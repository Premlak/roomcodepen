{"version":3,"file":"static/js/521.4c117803.chunk.js","mappings":"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","sources":["../node_modules/charenc/charenc.js","../node_modules/codemirror/addon/edit/closebrackets.js","../node_modules/codemirror/addon/edit/closetag.js","../node_modules/codemirror/addon/fold/xml-fold.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/codemirror/mode/css/css.js","../node_modules/codemirror/mode/javascript/javascript.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/core-js-pure/es/array/virtual/concat.js","../node_modules/core-js-pure/es/array/virtual/filter.js","../node_modules/core-js-pure/es/array/virtual/map.js","../node_modules/core-js-pure/es/array/virtual/reduce.js","../node_modules/core-js-pure/es/array/virtual/slice.js","../node_modules/core-js-pure/es/instance/concat.js","../node_modules/core-js-pure/es/instance/filter.js","../node_modules/core-js-pure/es/instance/map.js","../node_modules/core-js-pure/es/instance/reduce.js","../node_modules/core-js-pure/es/instance/slice.js","../node_modules/core-js-pure/es/json/stringify.js","../node_modules/core-js-pure/es/object/assign.js","../node_modules/core-js-pure/es/object/define-properties.js","../node_modules/core-js-pure/es/object/define-property.js","../node_modules/core-js-pure/es/object/get-own-property-descriptor.js","../node_modules/core-js-pure/es/object/get-own-property-descriptors.js","../node_modules/core-js-pure/es/object/get-own-property-symbols.js","../node_modules/core-js-pure/es/object/keys.js","../node_modules/core-js-pure/es/parse-float.js","../node_modules/core-js-pure/es/reflect/construct.js","../node_modules/core-js-pure/internals/a-callable.js","../node_modules/core-js-pure/internals/a-constructor.js","../node_modules/core-js-pure/internals/an-object.js","../node_modules/core-js-pure/internals/array-includes.js","../node_modules/core-js-pure/internals/array-iteration.js","../node_modules/core-js-pure/internals/array-method-has-species-support.js","../node_modules/core-js-pure/internals/array-method-is-strict.js","../node_modules/core-js-pure/internals/array-reduce.js","../node_modules/core-js-pure/internals/array-slice-simple.js","../node_modules/core-js-pure/internals/array-slice.js","../node_modules/core-js-pure/internals/array-species-constructor.js","../node_modules/core-js-pure/internals/array-species-create.js","../node_modules/core-js-pure/internals/classof-raw.js","../node_modules/core-js-pure/internals/classof.js","../node_modules/core-js-pure/internals/create-non-enumerable-property.js","../node_modules/core-js-pure/internals/create-property-descriptor.js","../node_modules/core-js-pure/internals/create-property.js","../node_modules/core-js-pure/internals/define-built-in-accessor.js","../node_modules/core-js-pure/internals/define-built-in.js","../node_modules/core-js-pure/internals/define-global-property.js","../node_modules/core-js-pure/internals/descriptors.js","../node_modules/core-js-pure/internals/document-all.js","../node_modules/core-js-pure/internals/document-create-element.js","../node_modules/core-js-pure/internals/does-not-exceed-safe-integer.js","../node_modules/core-js-pure/internals/engine-is-node.js","../node_modules/core-js-pure/internals/engine-user-agent.js","../node_modules/core-js-pure/internals/engine-v8-version.js","../node_modules/core-js-pure/internals/entry-virtual.js","../node_modules/core-js-pure/internals/enum-bug-keys.js","../node_modules/core-js-pure/internals/export.js","../node_modules/core-js-pure/internals/fails.js","../node_modules/core-js-pure/internals/function-apply.js","../node_modules/core-js-pure/internals/function-bind-context.js","../node_modules/core-js-pure/internals/function-bind-native.js","../node_modules/core-js-pure/internals/function-bind.js","../node_modules/core-js-pure/internals/function-call.js","../node_modules/core-js-pure/internals/function-uncurry-this-clause.js","../node_modules/core-js-pure/internals/function-uncurry-this.js","../node_modules/core-js-pure/internals/get-built-in.js","../node_modules/core-js-pure/internals/get-json-replacer-function.js","../node_modules/core-js-pure/internals/get-method.js","../node_modules/core-js-pure/internals/global.js","../node_modules/core-js-pure/internals/has-own-property.js","../node_modules/core-js-pure/internals/hidden-keys.js","../node_modules/core-js-pure/internals/html.js","../node_modules/core-js-pure/internals/ie8-dom-define.js","../node_modules/core-js-pure/internals/indexed-object.js","../node_modules/core-js-pure/internals/inspect-source.js","../node_modules/core-js-pure/internals/internal-state.js","../node_modules/core-js-pure/internals/is-array.js","../node_modules/core-js-pure/internals/is-callable.js","../node_modules/core-js-pure/internals/is-constructor.js","../node_modules/core-js-pure/internals/is-forced.js","../node_modules/core-js-pure/internals/is-null-or-undefined.js","../node_modules/core-js-pure/internals/is-object.js","../node_modules/core-js-pure/internals/is-pure.js","../node_modules/core-js-pure/internals/is-symbol.js","../node_modules/core-js-pure/internals/length-of-array-like.js","../node_modules/core-js-pure/internals/math-trunc.js","../node_modules/core-js-pure/internals/number-parse-float.js","../node_modules/core-js-pure/internals/object-assign.js","../node_modules/core-js-pure/internals/object-create.js","../node_modules/core-js-pure/internals/object-define-properties.js","../node_modules/core-js-pure/internals/object-define-property.js","../node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","../node_modules/core-js-pure/internals/object-get-own-property-names-external.js","../node_modules/core-js-pure/internals/object-get-own-property-names.js","../node_modules/core-js-pure/internals/object-get-own-property-symbols.js","../node_modules/core-js-pure/internals/object-is-prototype-of.js","../node_modules/core-js-pure/internals/object-keys-internal.js","../node_modules/core-js-pure/internals/object-keys.js","../node_modules/core-js-pure/internals/object-property-is-enumerable.js","../node_modules/core-js-pure/internals/object-to-string.js","../node_modules/core-js-pure/internals/ordinary-to-primitive.js","../node_modules/core-js-pure/internals/own-keys.js","../node_modules/core-js-pure/internals/path.js","../node_modules/core-js-pure/internals/require-object-coercible.js","../node_modules/core-js-pure/internals/set-to-string-tag.js","../node_modules/core-js-pure/internals/shared-key.js","../node_modules/core-js-pure/internals/shared-store.js","../node_modules/core-js-pure/internals/shared.js","../node_modules/core-js-pure/internals/string-trim.js","../node_modules/core-js-pure/internals/symbol-constructor-detection.js","../node_modules/core-js-pure/internals/symbol-define-to-primitive.js","../node_modules/core-js-pure/internals/symbol-registry-detection.js","../node_modules/core-js-pure/internals/to-absolute-index.js","../node_modules/core-js-pure/internals/to-indexed-object.js","../node_modules/core-js-pure/internals/to-integer-or-infinity.js","../node_modules/core-js-pure/internals/to-length.js","../node_modules/core-js-pure/internals/to-object.js","../node_modules/core-js-pure/internals/to-primitive.js","../node_modules/core-js-pure/internals/to-property-key.js","../node_modules/core-js-pure/internals/to-string-tag-support.js","../node_modules/core-js-pure/internals/to-string.js","../node_modules/core-js-pure/internals/try-to-string.js","../node_modules/core-js-pure/internals/uid.js","../node_modules/core-js-pure/internals/use-symbol-as-uid.js","../node_modules/core-js-pure/internals/v8-prototype-define-bug.js","../node_modules/core-js-pure/internals/weak-map-basic-detection.js","../node_modules/core-js-pure/internals/well-known-symbol-define.js","../node_modules/core-js-pure/internals/well-known-symbol-wrapped.js","../node_modules/core-js-pure/internals/well-known-symbol.js","../node_modules/core-js-pure/internals/whitespaces.js","../node_modules/core-js-pure/modules/es.array.concat.js","../node_modules/core-js-pure/modules/es.array.filter.js","../node_modules/core-js-pure/modules/es.array.map.js","../node_modules/core-js-pure/modules/es.array.reduce.js","../node_modules/core-js-pure/modules/es.array.slice.js","../node_modules/core-js-pure/modules/es.json.stringify.js","../node_modules/core-js-pure/modules/es.object.assign.js","../node_modules/core-js-pure/modules/es.object.define-properties.js","../node_modules/core-js-pure/modules/es.object.define-property.js","../node_modules/core-js-pure/modules/es.object.get-own-property-descriptor.js","../node_modules/core-js-pure/modules/es.object.get-own-property-descriptors.js","../node_modules/core-js-pure/modules/es.object.get-own-property-symbols.js","../node_modules/core-js-pure/modules/es.object.keys.js","../node_modules/core-js-pure/modules/es.parse-float.js","../node_modules/core-js-pure/modules/es.reflect.construct.js","../node_modules/core-js-pure/modules/es.symbol.constructor.js","../node_modules/core-js-pure/modules/es.symbol.for.js","../node_modules/core-js-pure/modules/es.symbol.js","../node_modules/core-js-pure/modules/es.symbol.key-for.js","../node_modules/core-js-pure/stable/instance/concat.js","../node_modules/core-js-pure/stable/instance/filter.js","../node_modules/core-js-pure/stable/instance/map.js","../node_modules/core-js-pure/stable/instance/reduce.js","../node_modules/core-js-pure/stable/instance/slice.js","../node_modules/core-js-pure/stable/json/stringify.js","../node_modules/core-js-pure/stable/object/assign.js","../node_modules/core-js-pure/stable/object/define-properties.js","../node_modules/core-js-pure/stable/object/define-property.js","../node_modules/core-js-pure/stable/object/get-own-property-descriptor.js","../node_modules/core-js-pure/stable/object/get-own-property-descriptors.js","../node_modules/core-js-pure/stable/object/get-own-property-symbols.js","../node_modules/core-js-pure/stable/object/keys.js","../node_modules/core-js-pure/stable/parse-float.js","../node_modules/core-js-pure/stable/reflect/construct.js","../node_modules/crypt/crypt.js","../node_modules/is-buffer/index.js","../node_modules/is-retina/index.js","../node_modules/md5/md5.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/react-avatar/es/cache.js","../node_modules/react-avatar/es/utils.js","../node_modules/react-avatar/es/context.js","../node_modules/react-avatar/es/internal-state.js","../node_modules/react-avatar/es/data-provider.js","../node_modules/react-avatar/es/components/wrapper.js","../node_modules/react-avatar/es/components/image.js","../node_modules/react-avatar/es/components/text.js","../node_modules/react-avatar/es/sources/Gravatar.js","../node_modules/react-avatar/es/sources/Facebook.js","../node_modules/react-avatar/es/sources/Github.js","../node_modules/react-avatar/es/sources/Skype.js","../node_modules/react-avatar/es/sources/Value.js","../node_modules/react-avatar/es/sources/Src.js","../node_modules/react-avatar/es/sources/Icon.js","../node_modules/react-avatar/es/sources/AvatarRedirect.js","../node_modules/react-avatar/es/sources/Twitter.js","../node_modules/react-avatar/es/sources/VKontakte.js","../node_modules/react-avatar/es/sources/Instagram.js","../node_modules/react-avatar/es/index.js","../node_modules/react-avatar/es/avatar.js","../node_modules/react-avatar/es/sources/Google.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/@socket.io/component-emitter/index.mjs","../node_modules/engine.io-client/build/esm/globalThis.browser.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/yeast.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/engine.io-client/build/esm/index.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js"],"sourcesContent":["var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || /\\s/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n/**\n * Tag-closer extension for CodeMirror.\n *\n * This extension adds an \"autoCloseTags\" option that can be set to\n * either true to get the default behavior, or an object to further\n * configure its behavior.\n *\n * These are supported options:\n *\n * `whenClosing` (default true)\n *   Whether to autoclose when the '/' of a closing tag is typed.\n * `whenOpening` (default true)\n *   Whether to autoclose the tag when the final '>' of an opening\n *   tag is typed.\n * `dontCloseTags` (default is empty tags for HTML, none for XML)\n *   An array of tag names that should not be autoclosed.\n * `indentTags` (default is block tags for HTML, none for XML)\n *   An array of tag names that should, when opened, cause a\n *   blank line to be added inside the tag, and the blank line and\n *   closing line to be indented.\n * `emptyTags` (default is none)\n *   An array of XML tag names that should be autoclosed with '/>'.\n *\n * See demos/closetag.html for a usage example.\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"autoCloseTags\", false, function(cm, val, old) {\n    if (old != CodeMirror.Init && old)\n      cm.removeKeyMap(\"autoCloseTags\");\n    if (!val) return;\n    var map = {name: \"autoCloseTags\"};\n    if (typeof val != \"object\" || val.whenClosing !== false)\n      map[\"'/'\"] = function(cm) { return autoCloseSlash(cm); };\n    if (typeof val != \"object\" || val.whenOpening !== false)\n      map[\"'>'\"] = function(cm) { return autoCloseGT(cm); };\n    cm.addKeyMap(map);\n  });\n\n  var htmlDontClose = [\"area\", \"base\", \"br\", \"col\", \"command\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"param\",\n                       \"source\", \"track\", \"wbr\"];\n  var htmlIndent = [\"applet\", \"blockquote\", \"body\", \"button\", \"div\", \"dl\", \"fieldset\", \"form\", \"frameset\", \"h1\", \"h2\", \"h3\", \"h4\",\n                    \"h5\", \"h6\", \"head\", \"html\", \"iframe\", \"layer\", \"legend\", \"object\", \"ol\", \"p\", \"select\", \"table\", \"ul\"];\n\n  function autoCloseGT(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    var opt = cm.getOption(\"autoCloseTags\");\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      var tagInfo = inner.mode.xmlCurrentTag && inner.mode.xmlCurrentTag(state)\n      var tagName = tagInfo && tagInfo.name\n      if (!tagName) return CodeMirror.Pass\n\n      var html = inner.mode.configuration == \"html\";\n      var dontCloseTags = (typeof opt == \"object\" && opt.dontCloseTags) || (html && htmlDontClose);\n      var indentTags = (typeof opt == \"object\" && opt.indentTags) || (html && htmlIndent);\n\n      if (tok.end > pos.ch) tagName = tagName.slice(0, tagName.length - tok.end + pos.ch);\n      var lowerTagName = tagName.toLowerCase();\n      // Don't process the '>' at the end of an end-tag or self-closing tag\n      if (!tagName ||\n          tok.type == \"string\" && (tok.end != pos.ch || !/[\\\"\\']/.test(tok.string.charAt(tok.string.length - 1)) || tok.string.length == 1) ||\n          tok.type == \"tag\" && tagInfo.close ||\n          tok.string.indexOf(\"/\") == (pos.ch - tok.start - 1) || // match something like <someTagName />\n          dontCloseTags && indexOf(dontCloseTags, lowerTagName) > -1 ||\n          closingTagExists(cm, inner.mode.xmlCurrentContext && inner.mode.xmlCurrentContext(state) || [], tagName, pos, true))\n        return CodeMirror.Pass;\n\n      var emptyTags = typeof opt == \"object\" && opt.emptyTags;\n      if (emptyTags && indexOf(emptyTags, tagName) > -1) {\n        replacements[i] = { text: \"/>\", newPos: CodeMirror.Pos(pos.line, pos.ch + 2) };\n        continue;\n      }\n\n      var indent = indentTags && indexOf(indentTags, lowerTagName) > -1;\n      replacements[i] = {indent: indent,\n                         text: \">\" + (indent ? \"\\n\\n\" : \"\") + \"</\" + tagName + \">\",\n                         newPos: indent ? CodeMirror.Pos(pos.line + 1, 0) : CodeMirror.Pos(pos.line, pos.ch + 1)};\n    }\n\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnAutoClose);\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var info = replacements[i];\n      cm.replaceRange(info.text, ranges[i].head, ranges[i].anchor, \"+insert\");\n      var sel = cm.listSelections().slice(0);\n      sel[i] = {head: info.newPos, anchor: info.newPos};\n      cm.setSelections(sel);\n      if (!dontIndentOnAutoClose && info.indent) {\n        cm.indentLine(info.newPos.line, null, true);\n        cm.indentLine(info.newPos.line + 1, null, true);\n      }\n    }\n  }\n\n  function autoCloseCurrent(cm, typingSlash) {\n    var ranges = cm.listSelections(), replacements = [];\n    var head = typingSlash ? \"/\" : \"</\";\n    var opt = cm.getOption(\"autoCloseTags\");\n    var dontIndentOnAutoClose = (typeof opt == \"object\" && opt.dontIndentOnSlash);\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var pos = ranges[i].head, tok = cm.getTokenAt(pos);\n      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;\n      if (typingSlash && (tok.type == \"string\" || tok.string.charAt(0) != \"<\" ||\n                          tok.start != pos.ch - 1))\n        return CodeMirror.Pass;\n      // Kludge to get around the fact that we are not in XML mode\n      // when completing in JS/CSS snippet in htmlmixed mode. Does not\n      // work for other XML embedded languages (there is no general\n      // way to go from a mixed mode to its current XML state).\n      var replacement, mixed = inner.mode.name != \"xml\" && cm.getMode().name == \"htmlmixed\"\n      if (mixed && inner.mode.name == \"javascript\") {\n        replacement = head + \"script\";\n      } else if (mixed && inner.mode.name == \"css\") {\n        replacement = head + \"style\";\n      } else {\n        var context = inner.mode.xmlCurrentContext && inner.mode.xmlCurrentContext(state)\n        var top = context.length ? context[context.length - 1] : \"\"\n        if (!context || (context.length && closingTagExists(cm, context, top, pos)))\n          return CodeMirror.Pass;\n        replacement = head + top\n      }\n      if (cm.getLine(pos.line).charAt(tok.end) != \">\") replacement += \">\";\n      replacements[i] = replacement;\n    }\n    cm.replaceSelections(replacements);\n    ranges = cm.listSelections();\n    if (!dontIndentOnAutoClose) {\n        for (var i = 0; i < ranges.length; i++)\n            if (i == ranges.length - 1 || ranges[i].head.line < ranges[i + 1].head.line)\n                cm.indentLine(ranges[i].head.line);\n    }\n  }\n\n  function autoCloseSlash(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    return autoCloseCurrent(cm, true);\n  }\n\n  CodeMirror.commands.closeTag = function(cm) { return autoCloseCurrent(cm); };\n\n  function indexOf(collection, elt) {\n    if (collection.indexOf) return collection.indexOf(elt);\n    for (var i = 0, e = collection.length; i < e; ++i)\n      if (collection[i] == elt) return i;\n    return -1;\n  }\n\n  // If xml-fold is loaded, we use its functionality to try and verify\n  // whether a given tag is actually unclosed.\n  function closingTagExists(cm, context, tagName, pos, newTag) {\n    if (!CodeMirror.scanForClosingTag) return false;\n    var end = Math.min(cm.lastLine() + 1, pos.line + 500);\n    var nextClose = CodeMirror.scanForClosingTag(cm, pos, null, end);\n    if (!nextClose || nextClose.tag != tagName) return false;\n    // If the immediate wrapping context contains onCx instances of\n    // the same tag, a closing tag only exists if there are at least\n    // that many closing tags of that type following.\n    var onCx = newTag ? 1 : 0\n    for (var i = context.length - 1; i >= 0; i--) {\n      if (context[i] == tagName) ++onCx\n      else break\n    }\n    pos = nextClose.to;\n    for (var i = 1; i < onCx; i++) {\n      var next = CodeMirror.scanForClosingTag(cm, pos, null, end);\n      if (!next || next.tag != tagName) return false;\n      pos = next.to;\n    }\n    return true;\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var ref = visualLine(lineObj);\n    var widgets = ref.widgets;\n    var height = 0;\n    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)\n      { height += widgetHeight(widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.2\";\n\n  return CodeMirror;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/^[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/^\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\",\n    \"dynamic-range\", \"video-dynamic-range\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\",\n    \"standard\", \"high\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-content\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"accent-color\", \"aspect-ratio\", \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"content-visibility\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"overflow-anchor\", \"overscroll-behavior\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkgrey\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkslategrey\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dimgrey\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightgrey\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\", \"lightslategrey\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"slategrey\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"blur\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"brightness\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"conic-gradient\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"contrast\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"cubic-bezier\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"drop-shadow\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"grayscale\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"hue-rotate\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\", \"repeating-radial-gradient\",\n    \"repeating-conic-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturate\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"sepia\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/^\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var trackScope = parserConfig.trackScope !== false\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-|&?]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    if (!trackScope) return false\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (!trackScope) return\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  pushcontext.lex = pushblockcontext.lex = true\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(maybeexpression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n    if (type == \"quasi\") { return pass(quasiType, afterType); }\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(/[\\}\\)\\]]/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(/[;\\}\\)\\],]/)) {\n      return cont()\n    }\n  }\n  function quasiType(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n    return cont(typeexpr, continueQuasiType);\n  }\n  function continueQuasiType(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasiType);\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"!\") return cont(classfield)\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    if (type == \".\") return pass(maybeoperatorComma);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse && c != popcontext) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null))\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function lower(tagName) {\n    return tagName && tagName.toLowerCase();\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[lower(context.tagName)];\n          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","'use strict';\nrequire('../../../modules/es.array.concat');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').concat;\n","'use strict';\nrequire('../../../modules/es.array.filter');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').filter;\n","'use strict';\nrequire('../../../modules/es.array.map');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').map;\n","'use strict';\nrequire('../../../modules/es.array.reduce');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').reduce;\n","'use strict';\nrequire('../../../modules/es.array.slice');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').slice;\n","'use strict';\nvar isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../array/virtual/concat');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.concat;\n  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.concat) ? method : own;\n};\n","'use strict';\nvar isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../array/virtual/filter');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.filter;\n  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.filter) ? method : own;\n};\n","'use strict';\nvar isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../array/virtual/map');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.map;\n  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.map) ? method : own;\n};\n","'use strict';\nvar isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../array/virtual/reduce');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.reduce;\n  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.reduce) ? method : own;\n};\n","'use strict';\nvar isPrototypeOf = require('../../internals/object-is-prototype-of');\nvar method = require('../array/virtual/slice');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.slice;\n  return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.slice) ? method : own;\n};\n","'use strict';\nrequire('../../modules/es.json.stringify');\nvar path = require('../../internals/path');\nvar apply = require('../../internals/function-apply');\n\n// eslint-disable-next-line es/no-json -- safe\nif (!path.JSON) path.JSON = { stringify: JSON.stringify };\n\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nmodule.exports = function stringify(it, replacer, space) {\n  return apply(path.JSON.stringify, null, arguments);\n};\n","'use strict';\nrequire('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","'use strict';\nrequire('../../modules/es.object.define-properties');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperties = module.exports = function defineProperties(T, D) {\n  return Object.defineProperties(T, D);\n};\n\nif (Object.defineProperties.sham) defineProperties.sham = true;\n","'use strict';\nrequire('../../modules/es.object.define-property');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n","'use strict';\nrequire('../../modules/es.object.get-own-property-descriptor');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar getOwnPropertyDescriptor = module.exports = function getOwnPropertyDescriptor(it, key) {\n  return Object.getOwnPropertyDescriptor(it, key);\n};\n\nif (Object.getOwnPropertyDescriptor.sham) getOwnPropertyDescriptor.sham = true;\n","'use strict';\nrequire('../../modules/es.object.get-own-property-descriptors');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.getOwnPropertyDescriptors;\n","'use strict';\nrequire('../../modules/es.symbol');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.getOwnPropertySymbols;\n","'use strict';\nrequire('../../modules/es.object.keys');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.keys;\n","'use strict';\nrequire('../modules/es.parse-float');\nvar path = require('../internals/path');\n\nmodule.exports = path.parseFloat;\n","'use strict';\nrequire('../../modules/es.reflect.construct');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Reflect.construct;\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE === 1;\n  var IS_FILTER = TYPE === 2;\n  var IS_SOME = TYPE === 3;\n  var IS_EVERY = TYPE === 4;\n  var IS_FIND_INDEX = TYPE === 6;\n  var IS_FILTER_REJECT = TYPE === 7;\n  var NO_HOLES = TYPE === 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\n\nvar $Array = Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = $Array(max(fin - k, 0));\n  var n = 0;\n  for (; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n","'use strict';\nvar arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n  return target;\n};\n","'use strict';\nvar global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar classof = require('../internals/classof-raw');\n\nmodule.exports = classof(global.process) === 'process';\n","'use strict';\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","'use strict';\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\nvar path = require('../internals/path');\n\nmodule.exports = function (CONSTRUCTOR) {\n  return path[CONSTRUCTOR + 'Prototype'];\n};\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar isCallable = require('../internals/is-callable');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof Wrapper) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return apply(NativeConstructor, this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || createNonEnumerableProperty(path, TARGET, {})[TARGET];\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && hasOwn(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue;\n\n    // bind methods to global for calling from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changes in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && isCallable(sourceProperty)) resultProperty = uncurryThis(sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    createNonEnumerableProperty(target, key, resultProperty);\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!hasOwn(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      createNonEnumerableProperty(path[VIRTUAL_PROTOTYPE], key, sourceProperty);\n      // export real prototype methods\n      if (options.real && targetPrototype && (FORCED || !targetPrototype[key])) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar arraySlice = require('../internals/array-slice');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar $Function = Function;\nvar concat = uncurryThis([].concat);\nvar join = uncurryThis([].join);\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!hasOwn(factories, argsLength)) {\n    var list = [];\n    var i = 0;\n    for (; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    factories[argsLength] = $Function('C,a', 'return new C(' + join(list, ',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\n// eslint-disable-next-line es/no-function-prototype-bind -- detection\nmodule.exports = NATIVE_BIND ? $Function.bind : function bind(that /* , ...args */) {\n  var F = aCallable(this);\n  var Prototype = F.prototype;\n  var partArgs = arraySlice(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = concat(partArgs, arraySlice(arguments));\n    return this instanceof boundFunction ? construct(F, args.length, args) : F.apply(that, args);\n  };\n  if (isObject(Prototype)) boundFunction.prototype = Prototype;\n  return boundFunction;\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar path = require('../internals/path');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (variable) {\n  return isCallable(variable) ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isArray = require('../internals/is-array');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar toString = require('../internals/to-string');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (replacer) {\n  if (isCallable(replacer)) return replacer;\n  if (!isArray(replacer)) return;\n  var rawLength = replacer.length;\n  var keys = [];\n  for (var i = 0; i < rawLength; i++) {\n    var element = replacer[i];\n    if (typeof element == 'string') push(keys, element);\n    else if (typeof element == 'number' || classof(element) === 'Number' || classof(element) === 'String') push(keys, toString(element));\n  }\n  var keysLength = keys.length;\n  var root = true;\n  return function (key, value) {\n    if (root) {\n      root = false;\n      return value;\n    }\n    if (isArray(this)) return value;\n    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;\n  };\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nmodule.exports = true;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar charAt = uncurryThis(''.charAt);\nvar $parseFloat = global.parseFloat;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseFloat(Object(ITERATOR)); }));\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(toString(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && charAt(trimmedString, 0) === '-' ? -0 : result;\n} : $parseFloat;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol('assign detection');\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] !== 7 || objectKeys($assign({}, B)).join('') !== alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice-simple');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) === 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!hasOwn(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.32.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar call = require('../internals/function-call');\nvar getBuiltIn = require('../internals/get-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function () {\n  var Symbol = getBuiltIn('Symbol');\n  var SymbolPrototype = Symbol && Symbol.prototype;\n  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {\n    // `Symbol.prototype[@@toPrimitive]` method\n    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\n    // eslint-disable-next-line no-unused-vars -- required for .length\n    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {\n      return call(valueOf, this);\n    }, { arity: 1 });\n  }\n};\n","'use strict';\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\n/* eslint-disable es/no-symbol -- safe */\nmodule.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\nvar global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        doesNotExceedSafeInteger(n + len);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        doesNotExceedSafeInteger(n + 1);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar nativeSlice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === $Array || Constructor === undefined) {\n        return nativeSlice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isSymbol = require('../internals/is-symbol');\nvar arraySlice = require('../internals/array-slice');\nvar getReplacerFunction = require('../internals/get-json-replacer-function');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nvar $String = String;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {\n  var symbol = getBuiltIn('Symbol')('stringify detection');\n  // MS Edge converts symbol values to JSON as {}\n  return $stringify([symbol]) !== '[null]'\n    // WebKit converts symbol values to JSON as null\n    || $stringify({ a: symbol }) !== '{}'\n    // V8 throws on boxed symbols\n    || $stringify(Object(symbol)) !== '{}';\n});\n\n// https://github.com/tc39/proposal-well-formed-stringify\nvar ILL_FORMED_UNICODE = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nvar stringifyWithSymbolsFix = function (it, replacer) {\n  var args = arraySlice(arguments);\n  var $replacer = getReplacerFunction(replacer);\n  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined\n  args[1] = function (key, value) {\n    // some old implementations (like WebKit) could pass numbers as keys\n    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);\n    if (!isSymbol(value)) return value;\n  };\n  return apply($stringify, null, args);\n};\n\nvar fixIllFormed = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = arraySlice(arguments);\n      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);\n      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties').f;\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\n$({ target: 'Object', stat: true, forced: Object.defineProperties !== defineProperties, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n// eslint-disable-next-line es/no-object-defineproperty -- safe\n$({ target: 'Object', stat: true, forced: Object.defineProperty !== defineProperty, sham: !DESCRIPTORS }, {\n  defineProperty: defineProperty\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FORCED = !DESCRIPTORS || fails(function () { nativeGetOwnPropertyDescriptor(1); });\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar toObject = require('../internals/to-object');\n\n// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });\n\n// `Object.getOwnPropertySymbols` method\n// https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n$({ target: 'Object', stat: true, forced: FORCED }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $parseFloat = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat !== $parseFloat }, {\n  parseFloat: $parseFloat\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind');\nvar aConstructor = require('../internals/a-constructor');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\nvar ObjectPrototype = Object.prototype;\nvar push = [].push;\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\n\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\n\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aConstructor(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target === newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      apply(push, $args, args);\n      return new (apply(bind, Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : ObjectPrototype);\n    var result = apply(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar $toString = require('../internals/to-string');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\n\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];\nvar TypeError = global.TypeError;\nvar QObject = global.QObject;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar push = uncurryThis([].push);\n\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar WellKnownSymbolsStore = shared('wks');\n\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a !== 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (hasOwn(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = call(nativePropertyIsEnumerable, this, P);\n  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]\n    ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function (O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {\n      push(result, AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);\n      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  SymbolPrototype = $Symbol[PROTOTYPE];\n\n  defineBuiltIn(SymbolPrototype, 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  defineBuiltIn($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  definePropertiesModule.f = $defineProperties;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    defineBuiltInAccessor(SymbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames\n});\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.for` method\n// https://tc39.es/ecma262/#sec-symbol.for\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  'for': function (key) {\n    var string = toString(key);\n    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = getBuiltIn('Symbol')(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  }\n});\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.symbol.constructor');\nrequire('../modules/es.symbol.for');\nrequire('../modules/es.symbol.key-for');\nrequire('../modules/es.json.stringify');\nrequire('../modules/es.object.get-own-property-symbols');\n","'use strict';\nvar $ = require('../internals/export');\nvar hasOwn = require('../internals/has-own-property');\nvar isSymbol = require('../internals/is-symbol');\nvar tryToString = require('../internals/try-to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.keyFor` method\n// https://tc39.es/ecma262/#sec-symbol.keyfor\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');\n    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  }\n});\n","'use strict';\nvar parent = require('../../es/instance/concat');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/instance/filter');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/instance/map');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/instance/reduce');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/instance/slice');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/json/stringify');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/define-properties');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/define-property');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/get-own-property-descriptor');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/get-own-property-descriptors');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/get-own-property-symbols');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/object/keys');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../es/parse-float');\n\nmodule.exports = parent;\n","'use strict';\nvar parent = require('../../es/reflect/construct');\n\nmodule.exports = parent;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","module.exports = function() {\n  var mediaQuery;\n  if (typeof window !== \"undefined\" && window !== null) {\n    mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)\";\n    if (window.devicePixelRatio > 1.25) {\n      return true;\n    }\n    if (window.matchMedia && window.matchMedia(mediaQuery).matches) {\n      return true;\n    }\n  }\n  return false;\n};\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _JSON$stringify from \"core-js-pure/stable/json/stringify.js\";\nimport _filterInstanceProperty from \"core-js-pure/stable/instance/filter.js\";\nimport _sliceInstanceProperty from \"core-js-pure/stable/instance/slice.js\";\nexport var CACHE_PREFIX = 'react-avatar/';\nexport var CACHE_KEY_FAILING = 'failing';\n\nvar _hasLocalStorage = function isLocalStorageAvailable() {\n  try {\n    return 'localStorage' in window && window['localStorage'];\n  } catch (err) {\n    return false;\n  }\n}();\n\nexport var Cache = /*#__PURE__*/function () {\n  function Cache() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Cache);\n\n    var _options$cachePrefix = options.cachePrefix,\n        cachePrefix = _options$cachePrefix === void 0 ? CACHE_PREFIX : _options$cachePrefix,\n        _options$sourceTTL = options.sourceTTL,\n        sourceTTL = _options$sourceTTL === void 0 ? 7 * 24 * 3600 * 1000 : _options$sourceTTL,\n        _options$sourceSize = options.sourceSize,\n        sourceSize = _options$sourceSize === void 0 ? 20 : _options$sourceSize;\n    this.cachePrefix = cachePrefix;\n    this.sourceTTL = sourceTTL;\n    this.sourceSize = sourceSize;\n  }\n\n  _createClass(Cache, [{\n    key: \"set\",\n    value: function set(key, value) {\n      // cache not available\n      if (!_hasLocalStorage) return;\n      value = _JSON$stringify(value);\n\n      try {\n        localStorage.setItem(this.cachePrefix + key, value);\n      } catch (e) {\n        // failsafe for mobile Safari private mode\n        console.error(e); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // cache not available\n      if (!_hasLocalStorage) return null;\n      var value = localStorage.getItem(this.cachePrefix + key);\n      if (value) return JSON.parse(value);\n      return null;\n    }\n  }, {\n    key: \"sourceFailed\",\n    value: function sourceFailed(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || []; // Remove expired entries or previous instances of this source\n\n      cacheList = _filterInstanceProperty(cacheList).call(cacheList, function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return !hasExpired && !isMatch;\n      }); // Add the source to the end of the list\n\n      cacheList.unshift({\n        url: source,\n        expires: Date.now() + this.sourceTTL\n      }); // only keep the last X results so we don't fill up local storage\n\n      cacheList = _sliceInstanceProperty(cacheList).call(cacheList, 0, this.sourceSize - 1);\n      return this.set(CACHE_KEY_FAILING, cacheList);\n    }\n  }, {\n    key: \"hasSourceFailedBefore\",\n    value: function hasSourceFailedBefore(source) {\n      var cacheList = this.get(CACHE_KEY_FAILING) || [];\n      return cacheList.some(function (entry) {\n        var hasExpired = entry.expires > 0 && entry.expires < Date.now();\n        var isMatch = entry === source || entry.url == source;\n        return isMatch && !hasExpired;\n      });\n    }\n  }]);\n\n  return Cache;\n}();\nexport default new Cache();","'use strict';\n\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _indexOfInstanceProperty from \"core-js-pure/stable/instance/index-of.js\";\nimport _mapInstanceProperty from \"core-js-pure/stable/instance/map.js\";\nimport _reduceInstanceProperty from \"core-js-pure/stable/instance/reduce.js\";\nimport _parseFloat from \"core-js-pure/stable/parse-float.js\";\nimport _sliceInstanceProperty from \"core-js-pure/stable/instance/slice.js\";\nimport _filterInstanceProperty from \"core-js-pure/stable/instance/filter.js\";\nimport retina from 'is-retina';\nvar IS_RETINA = retina();\nexport function fetch(url, successCb, errorCb) {\n  var request = new XMLHttpRequest();\n\n  request.onreadystatechange = function () {\n    if (request.readyState === 4) {\n      if (request.status === 200) {\n        var data = JSON.parse(request.responseText);\n        successCb(data);\n      } else {\n        errorCb(request.status);\n      }\n    }\n  };\n\n  request.open('GET', url, true);\n  request.send();\n}\nexport function fetchJSONP(url, successCb, errorCb) {\n  var callbackName = 'jsonp_cb_' + Math.round(100000 * Math.random());\n  var script = document.createElement('script');\n  script.src = url + (_indexOfInstanceProperty(url).call(url, '?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n  document.body.appendChild(script);\n\n  script.onerror = function () {\n    errorCb();\n  };\n\n  window[callbackName] = function (data) {\n    delete window[callbackName];\n    document.body.removeChild(script);\n    successCb(data);\n  };\n} // https://webaim.org/resources/contrastchecker/\n\nexport var defaultColors = ['#A62A21', '#7e3794', '#0B51C1', '#3A6024', '#A81563', '#B3003C']; // https://regex101.com/r/YEsPER/1\n// https://developer.mozilla.org/en-US/docs/Web/CSS/length\n\nvar reSize = /^([-+]?(?:\\d+(?:\\.\\d+)?|\\.\\d+))([a-z]{2,4}|%)?$/; // https://en.wikipedia.org/wiki/Linear_congruential_generator\n\nfunction _stringAsciiPRNG(value, m) {\n  var _context;\n\n  // Xn+1 = (a * Xn + c) % m\n  // 0 < a < m\n  // 0 <= c < m\n  // 0 <= X0 < m\n  var charCodes = _mapInstanceProperty(_context = _toConsumableArray(value)).call(_context, function (letter) {\n    return letter.charCodeAt(0);\n  });\n\n  var len = charCodes.length;\n  var a = len % (m - 1) + 1;\n  var c = _reduceInstanceProperty(charCodes).call(charCodes, function (current, next) {\n    return current + next;\n  }) % m;\n  var random = charCodes[0] % m;\n\n  for (var i = 0; i < len; i++) {\n    random = (a * random + c) % m;\n  }\n\n  return random;\n}\n\nexport function getRandomColor(value) {\n  var colors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultColors;\n  // if no value is passed, always return transparent color otherwise\n  // a rerender would show a new color which would will\n  // give strange effects when an interface is loading\n  // and gets rerendered a few consequent times\n  if (!value) return 'transparent'; // value based random color index\n  // the reason we don't just use a random number is to make sure that\n  // a certain value will always get the same color assigned given\n  // a fixed set of colors\n\n  var colorIndex = _stringAsciiPRNG(value, colors.length);\n\n  return colors[colorIndex];\n}\nexport function parseSize(size) {\n  size = '' + size;\n\n  var _ref = reSize.exec(size) || [],\n      _ref2 = _slicedToArray(_ref, 3),\n      _ref2$ = _ref2[1],\n      value = _ref2$ === void 0 ? 0 : _ref2$,\n      _ref2$2 = _ref2[2],\n      unit = _ref2$2 === void 0 ? 'px' : _ref2$2;\n\n  return {\n    value: _parseFloat(value),\n    str: value + unit,\n    unit: unit\n  };\n}\n/**\n * Calculate absolute size in pixels we want for the images\n * that get requested from the various sources. They don't\n * understand relative sizes like `em` or `vww`.  We select\n * a fixed size of 512px when we can't detect the true pixel size.\n */\n\nexport function getImageSize(size) {\n  size = parseSize(size);\n  if (isNaN(size.value)) // invalid size, use fallback\n    size = 512;else if (size.unit === 'px') // px are good, use them\n    size = size.value;else if (size.value === 0) // relative 0 === absolute 0\n    size = 0;else // anything else is unknown, use fallback\n    size = 512;\n  if (IS_RETINA) size = size * 2;\n  return size;\n}\nexport function defaultInitials(name, _ref3) {\n  var _context2, _context3, _context4;\n\n  var maxInitials = _ref3.maxInitials;\n  return _sliceInstanceProperty(_context2 = _filterInstanceProperty(_context3 = _mapInstanceProperty(_context4 = name.split(/\\s/)).call(_context4, function (part) {\n    return part.substring(0, 1).toUpperCase();\n  })).call(_context3, function (v) {\n    return !!v;\n  })).call(_context2, 0, maxInitials).join('').toUpperCase();\n}\n/**\n * Grouped timeouts reduce the amount of timeouts trigged\n * by grouping multiple handlers into a single setTimeout call.\n *\n * This reduces accuracy of the timeout but will be less expensive\n * when multiple avatar have been loaded into view.\n */\n\nvar timeoutGroups = {};\nexport function setGroupedTimeout(fn, ttl) {\n  if (timeoutGroups[ttl]) {\n    timeoutGroups[ttl].push(fn);\n    return;\n  }\n\n  var callbacks = timeoutGroups[ttl] = [fn];\n  setTimeout(function () {\n    delete timeoutGroups[ttl];\n    callbacks.forEach(function (cb) {\n      return cb();\n    });\n  }, ttl);\n}\nexport function getNullableText() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  for (var _i = 0, _args = args; _i < _args.length; _i++) {\n    var arg = _args[_i];\n    if (arg || arg === '') return arg;\n    if (arg === false || arg === null) return null;\n  }\n\n  return;\n}\nexport function calculateBorderRadius(round) {\n  if (round === true) return '100%';\n  if (round === false) return;\n  return round;\n}","import _Reflect$construct from \"core-js-pure/stable/reflect/construct.js\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _Object$keys from \"core-js-pure/stable/object/keys.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport defaultCache from './cache';\nimport { defaultColors, defaultInitials } from './utils';\nvar defaults = {\n  cache: defaultCache,\n  colors: defaultColors,\n  initials: defaultInitials,\n  avatarRedirectUrl: null\n};\n\nvar contextKeys = _Object$keys(defaults);\n/**\n * withConfig and ConfigProvider provide a compatibility layer for different\n * versions of React equiped with different versions of the Context API.\n *\n * If the new Context API is available it will be used, otherwise we will\n * fall back to the legacy context api.\n */\n\n\nvar ConfigContext = React.createContext && /*#__PURE__*/React.createContext();\nvar isLegacyContext = !ConfigContext;\nvar ConfigConsumer = isLegacyContext ? null : ConfigContext.Consumer;\n/**\n * This was introduced in React 16.3.0 we need this to\n * prevent errors in newer versions. But we will just forward the\n * component for any version lower than 16.3.0\n *\n * https://github.com/Sitebase/react-avatar/issues/201\n * https://github.com/facebook/react/blob/master/CHANGELOG.md#1630-march-29-2018\n */\n\nvar forwardRef = React.forwardRef || function (C) {\n  return C;\n};\n\nexport var ConfigProvider = /*#__PURE__*/function (_React$Component) {\n  _inherits(ConfigProvider, _React$Component);\n\n  var _super = _createSuper(ConfigProvider);\n\n  function ConfigProvider() {\n    _classCallCheck(this, ConfigProvider);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ConfigProvider, [{\n    key: \"_getContext\",\n    value: function _getContext() {\n      var _this = this;\n\n      var context = {};\n      contextKeys.forEach(function (key) {\n        if (typeof _this.props[key] !== 'undefined') context[key] = _this.props[key];\n      });\n      return context;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      if (isLegacyContext) return React.Children.only(children);\n      return /*#__PURE__*/React.createElement(ConfigContext.Provider, {\n        value: this._getContext()\n      }, React.Children.only(children));\n    }\n  }]);\n\n  return ConfigProvider;\n}(React.Component);\n\n_defineProperty(ConfigProvider, \"displayName\", 'ConfigProvider');\n\n_defineProperty(ConfigProvider, \"propTypes\", {\n  cache: PropTypes.object,\n  colors: PropTypes.arrayOf(PropTypes.string),\n  initials: PropTypes.func,\n  avatarRedirectUrl: PropTypes.string,\n  children: PropTypes.node\n});\n\nexport var withConfig = function withConfig(Component) {\n  function withAvatarConfig(props, refOrContext) {\n    // If legacy context is enabled, there is no support for forwardedRefs either\n    if (isLegacyContext) {\n      var ctx = refOrContext && refOrContext.reactAvatar;\n      return /*#__PURE__*/React.createElement(Component, _extends({}, defaults, ctx, props));\n    }\n    /* eslint-disable react/display-name */\n\n\n    return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (config) {\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        ref: refOrContext\n      }, defaults, config, props));\n    });\n    /* eslint-enable react/display-name */\n  } // Legacy support, only set when legacy is detected\n\n\n  withAvatarConfig.contextTypes = ConfigProvider.childContextTypes;\n  return forwardRef(withAvatarConfig);\n};\n\nif (isLegacyContext) {\n  ConfigProvider.childContextTypes = {\n    reactAvatar: PropTypes.object\n  };\n\n  ConfigProvider.prototype.getChildContext = function () {\n    return {\n      reactAvatar: this._getContext()\n    };\n  };\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar InternalState = /*#__PURE__*/function () {\n  function InternalState() {\n    _classCallCheck(this, InternalState);\n\n    this.sourcePointer = 0;\n    this.active = true;\n    this.fetch = null;\n  }\n\n  _createClass(InternalState, [{\n    key: \"isActive\",\n    value: function isActive() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // Internal state has been reset => we received new props\n      if (state.internal !== this) return false;\n      if (!this.fetch) return false;\n      if (this.active !== true) return false;\n      return true;\n    }\n  }]);\n\n  return InternalState;\n}();\n\nexport { InternalState as default };","'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _reduceInstanceProperty from \"core-js-pure/stable/instance/reduce.js\";\nimport _Object$assign from \"core-js-pure/stable/object/assign.js\";\nimport _Reflect$construct from \"core-js-pure/stable/reflect/construct.js\";\nimport _Object$keys from \"core-js-pure/stable/object/keys.js\";\nimport _Object$getOwnPropertySymbols from \"core-js-pure/stable/object/get-own-property-symbols.js\";\nimport _filterInstanceProperty from \"core-js-pure/stable/instance/filter.js\";\nimport _Object$getOwnPropertyDescriptor from \"core-js-pure/stable/object/get-own-property-descriptor.js\";\nimport _Object$getOwnPropertyDescriptors from \"core-js-pure/stable/object/get-own-property-descriptors.js\";\nimport _Object$defineProperties from \"core-js-pure/stable/object/define-properties.js\";\nimport _Object$defineProperty from \"core-js-pure/stable/object/define-property.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Cache } from './cache';\nimport { withConfig, ConfigProvider } from './context';\nimport InternalState from './internal-state';\nexport { getRandomColor } from './utils';\nexport { ConfigProvider } from './context';\nexport { Cache } from './cache';\n\nfunction matchSource(Source, props, cb) {\n  var cache = props.cache;\n  var instance = new Source(props);\n  if (!instance.isCompatible(props)) return cb();\n  instance.get(function (state) {\n    var failedBefore = state && state.src && cache.hasSourceFailedBefore(state.src);\n\n    if (!failedBefore && state) {\n      cb(state);\n    } else {\n      cb();\n    }\n  });\n}\n\nexport default function createAvatarDataProvider(_ref) {\n  var _ref$sources = _ref.sources,\n      sources = _ref$sources === void 0 ? [] : _ref$sources;\n\n  // Collect propTypes for each individual source\n  var sourcePropTypes = _reduceInstanceProperty(sources).call(sources, function (r, s) {\n    return _Object$assign(r, s.propTypes);\n  }, {});\n\n  var AvatarDataProvider = /*#__PURE__*/function (_PureComponent) {\n    _inherits(AvatarDataProvider, _PureComponent);\n\n    var _super = _createSuper(AvatarDataProvider);\n\n    function AvatarDataProvider(props) {\n      var _this;\n\n      _classCallCheck(this, AvatarDataProvider);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"_createFetcher\", function (internal) {\n        return function (errEvent) {\n          var cache = _this.props.cache;\n          if (!internal.isActive(_this.state)) return; // Mark img source as failed for future reference\n\n          if (errEvent && errEvent.type === 'error') cache.sourceFailed(errEvent.target.src);\n          var pointer = internal.sourcePointer;\n          if (sources.length === pointer) return;\n          var source = sources[pointer];\n          internal.sourcePointer++;\n          matchSource(source, _this.props, function (nextState) {\n            if (!nextState) return setTimeout(internal.fetch, 0);\n            if (!internal.isActive(_this.state)) return; // Reset other values to prevent them from sticking (#51)\n\n            nextState = _objectSpread({\n              src: null,\n              value: null,\n              color: null\n            }, nextState);\n\n            _this.setState(function (state) {\n              // Internal state has been reset => we received new props\n              return internal.isActive(state) ? nextState : {};\n            });\n          });\n        };\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"fetch\", function () {\n        var internal = new InternalState();\n        internal.fetch = _this._createFetcher(internal);\n\n        _this.setState({\n          internal: internal\n        }, internal.fetch);\n      });\n\n      _this.state = {\n        internal: null,\n        src: null,\n        value: null,\n        color: props.color\n      };\n      return _this;\n    }\n\n    _createClass(AvatarDataProvider, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.fetch();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        var needsUpdate = false; // This seems redundant\n        //\n        // Props that need to be in `state` are\n        // `value`, `src` and `color`\n\n        for (var prop in sourcePropTypes) {\n          needsUpdate = needsUpdate || prevProps[prop] !== this.props[prop];\n        }\n\n        if (needsUpdate) setTimeout(this.fetch, 0);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.state.internal) {\n          this.state.internal.active = false;\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            children = _this$props.children,\n            propertyName = _this$props.propertyName;\n        var _this$state = this.state,\n            src = _this$state.src,\n            value = _this$state.value,\n            color = _this$state.color,\n            sourceName = _this$state.sourceName,\n            internal = _this$state.internal;\n        var avatarData = {\n          src: src,\n          value: value,\n          color: color,\n          sourceName: sourceName,\n          onRenderFailed: function onRenderFailed() {\n            return internal && internal.fetch();\n          } // eslint-disable-line\n\n        };\n        if (typeof children === 'function') return children(avatarData);\n        var child = React.Children.only(children);\n        return /*#__PURE__*/React.cloneElement(child, _defineProperty({}, propertyName, avatarData));\n      }\n    }]);\n\n    return AvatarDataProvider;\n  }(PureComponent);\n\n  _defineProperty(AvatarDataProvider, \"displayName\", 'AvatarDataProvider');\n\n  _defineProperty(AvatarDataProvider, \"propTypes\", _objectSpread(_objectSpread({}, sourcePropTypes), {}, {\n    cache: PropTypes.object,\n    propertyName: PropTypes.string\n  }));\n\n  _defineProperty(AvatarDataProvider, \"defaultProps\", {\n    propertyName: 'avatar'\n  });\n\n  _defineProperty(AvatarDataProvider, \"Cache\", Cache);\n\n  _defineProperty(AvatarDataProvider, \"ConfigProvider\", ConfigProvider);\n\n  return _Object$assign(withConfig(AvatarDataProvider), {\n    ConfigProvider: ConfigProvider,\n    Cache: Cache\n  });\n}","import _Reflect$construct from \"core-js-pure/stable/reflect/construct.js\";\nimport _Object$keys from \"core-js-pure/stable/object/keys.js\";\nimport _Object$getOwnPropertySymbols from \"core-js-pure/stable/object/get-own-property-symbols.js\";\nimport _filterInstanceProperty from \"core-js-pure/stable/instance/filter.js\";\nimport _Object$getOwnPropertyDescriptor from \"core-js-pure/stable/object/get-own-property-descriptor.js\";\nimport _Object$getOwnPropertyDescriptors from \"core-js-pure/stable/object/get-own-property-descriptors.js\";\nimport _Object$defineProperties from \"core-js-pure/stable/object/define-properties.js\";\nimport _Object$defineProperty from \"core-js-pure/stable/object/define-property.js\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { parseSize, calculateBorderRadius } from '../utils';\n\nvar AvatarWrapper = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AvatarWrapper, _React$PureComponent);\n\n  var _super = _createSuper(AvatarWrapper);\n\n  function AvatarWrapper() {\n    _classCallCheck(this, AvatarWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(AvatarWrapper, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          unstyled = _this$props.unstyled,\n          round = _this$props.round,\n          style = _this$props.style,\n          avatar = _this$props.avatar,\n          onClick = _this$props.onClick,\n          children = _this$props.children;\n      var sourceName = avatar.sourceName;\n      var size = parseSize(this.props.size);\n      var hostStyle = unstyled ? null : _objectSpread({\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        width: size.str,\n        height: size.str,\n        borderRadius: calculateBorderRadius(round),\n        fontFamily: 'Helvetica, Arial, sans-serif'\n      }, style);\n      var classNames = [className, 'sb-avatar'];\n\n      if (sourceName) {\n        var source = sourceName.toLowerCase().replace(/[^a-z0-9-]+/g, '-') // only allow alphanumeric\n        .replace(/^-+|-+$/g, ''); // trim `-`\n\n        classNames.push('sb-avatar--' + source);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames.join(' '),\n        onClick: onClick,\n        style: hostStyle\n      }, children);\n    }\n  }]);\n\n  return AvatarWrapper;\n}(React.PureComponent);\n\n_defineProperty(AvatarWrapper, \"propTypes\", {\n  className: PropTypes.string,\n  round: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  style: PropTypes.object,\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  unstyled: PropTypes.bool,\n  avatar: PropTypes.object,\n  onClick: PropTypes.func,\n  children: PropTypes.node\n});\n\nexport { AvatarWrapper as default };","import _Reflect$construct from \"core-js-pure/stable/reflect/construct.js\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { parseSize, calculateBorderRadius, getNullableText } from '../utils';\nimport Wrapper from './wrapper';\n\nvar AvatarImage = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AvatarImage, _React$PureComponent);\n\n  var _super = _createSuper(AvatarImage);\n\n  function AvatarImage() {\n    _classCallCheck(this, AvatarImage);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(AvatarImage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          round = _this$props.round,\n          unstyled = _this$props.unstyled,\n          alt = _this$props.alt,\n          title = _this$props.title,\n          name = _this$props.name,\n          value = _this$props.value,\n          avatar = _this$props.avatar;\n      var size = parseSize(this.props.size);\n      var imageStyle = unstyled ? null : {\n        maxWidth: '100%',\n        width: size.str,\n        height: size.str,\n        borderRadius: calculateBorderRadius(round)\n      };\n      return /*#__PURE__*/React.createElement(Wrapper, this.props, /*#__PURE__*/React.createElement(\"img\", {\n        className: className + ' sb-avatar__image',\n        width: size.str,\n        height: size.str,\n        style: imageStyle,\n        src: avatar.src,\n        alt: getNullableText(alt, name || value),\n        title: getNullableText(title, name || value),\n        onError: avatar.onRenderFailed\n      }));\n    }\n  }]);\n\n  return AvatarImage;\n}(React.PureComponent);\n\n_defineProperty(AvatarImage, \"propTypes\", {\n  alt: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  name: PropTypes.string,\n  value: PropTypes.string,\n  avatar: PropTypes.object,\n  className: PropTypes.string,\n  unstyled: PropTypes.bool,\n  round: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]),\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n});\n\n_defineProperty(AvatarImage, \"defaultProps\", {\n  className: '',\n  round: false,\n  size: 100,\n  unstyled: false\n});\n\nexport { AvatarImage as default };","import _Reflect$construct from \"core-js-pure/stable/reflect/construct.js\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _concatInstanceProperty from \"core-js-pure/stable/instance/concat.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Wrapper from './wrapper';\nimport { parseSize, setGroupedTimeout, calculateBorderRadius, getNullableText } from '../utils';\n\nvar AvatarText = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AvatarText, _React$PureComponent);\n\n  var _super = _createSuper(AvatarText);\n\n  function AvatarText() {\n    var _context;\n\n    var _this;\n\n    _classCallCheck(this, AvatarText);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, _concatInstanceProperty(_context = [this]).call(_context, args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_scaleTextNode\", function (node) {\n      var retryTTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n      var _this$props = _this.props,\n          unstyled = _this$props.unstyled,\n          textSizeRatio = _this$props.textSizeRatio,\n          textMarginRatio = _this$props.textMarginRatio,\n          avatar = _this$props.avatar;\n      _this._node = node;\n      if (!node || !node.parentNode || unstyled || avatar.src || !_this._mounted) return;\n      var spanNode = node.parentNode;\n      var tableNode = spanNode.parentNode;\n\n      var _spanNode$getBounding = spanNode.getBoundingClientRect(),\n          containerWidth = _spanNode$getBounding.width,\n          containerHeight = _spanNode$getBounding.height; // Whenever the avatar element is not visible due to some CSS\n      // (such as display: none) on any parent component we will check\n      // whether the component has become visible.\n      //\n      // The time between checks grows up to half a second in an attempt\n      // to reduce flicker / performance issues.\n\n\n      if (containerWidth == 0 && containerHeight == 0) {\n        var ttl = Math.min(retryTTL * 1.5, 500);\n        setGroupedTimeout(function () {\n          return _this._scaleTextNode(node, ttl);\n        }, ttl);\n        return;\n      } // If the tableNode (outer-container) does not have its fontSize set yet,\n      // we'll set it according to \"textSizeRatio\"\n\n\n      if (!tableNode.style.fontSize) {\n        var baseFontSize = containerHeight / textSizeRatio;\n        tableNode.style.fontSize = \"\".concat(baseFontSize, \"px\");\n      } // Reset font-size such that scaling works correctly (#133)\n\n\n      spanNode.style.fontSize = null; // Measure the actual width of the text after setting the container size\n\n      var _node$getBoundingClie = node.getBoundingClientRect(),\n          textWidth = _node$getBoundingClie.width;\n\n      if (textWidth < 0) return; // Calculate the maximum width for the text based on \"textMarginRatio\"\n\n      var maxTextWidth = containerWidth * (1 - 2 * textMarginRatio); // If the text is too wide, scale it down by (maxWidth / actualWidth)\n\n      if (textWidth > maxTextWidth) spanNode.style.fontSize = \"calc(1em * \".concat(maxTextWidth / textWidth, \")\");\n    });\n\n    return _this;\n  }\n\n  _createClass(AvatarText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._mounted = true;\n\n      this._scaleTextNode(this._node);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._mounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          className = _this$props2.className,\n          round = _this$props2.round,\n          unstyled = _this$props2.unstyled,\n          title = _this$props2.title,\n          name = _this$props2.name,\n          value = _this$props2.value,\n          avatar = _this$props2.avatar;\n      var size = parseSize(this.props.size);\n      var initialsStyle = unstyled ? null : {\n        width: size.str,\n        height: size.str,\n        lineHeight: 'initial',\n        textAlign: 'center',\n        color: this.props.fgColor,\n        background: avatar.color,\n        borderRadius: calculateBorderRadius(round)\n      };\n      var tableStyle = unstyled ? null : {\n        display: 'table',\n        tableLayout: 'fixed',\n        width: '100%',\n        height: '100%'\n      };\n      var spanStyle = unstyled ? null : {\n        display: 'table-cell',\n        verticalAlign: 'middle',\n        fontSize: '100%',\n        whiteSpace: 'nowrap'\n      }; // Ensure the text node is updated and scaled when any of these\n      // values changed by calling the `_scaleTextNode` method using\n      // the correct `ref`.\n\n      var key = [avatar.value, this.props.size].join('');\n      return /*#__PURE__*/React.createElement(Wrapper, this.props, /*#__PURE__*/React.createElement(\"div\", {\n        className: className + ' sb-avatar__text',\n        style: initialsStyle,\n        title: getNullableText(title, name || value)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: tableStyle\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: spanStyle\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        ref: this._scaleTextNode,\n        key: key\n      }, avatar.value)))));\n    }\n  }]);\n\n  return AvatarText;\n}(React.PureComponent);\n\n_defineProperty(AvatarText, \"propTypes\", {\n  name: PropTypes.string,\n  value: PropTypes.string,\n  avatar: PropTypes.object,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  className: PropTypes.string,\n  unstyled: PropTypes.bool,\n  fgColor: PropTypes.string,\n  textSizeRatio: PropTypes.number,\n  textMarginRatio: PropTypes.number,\n  round: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]),\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n});\n\n_defineProperty(AvatarText, \"defaultProps\", {\n  className: '',\n  fgColor: '#FFF',\n  round: false,\n  size: 100,\n  textSizeRatio: 3,\n  textMarginRatio: .15,\n  unstyled: false\n});\n\nexport { AvatarText as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport md5 from 'md5';\nimport { getImageSize } from '../utils';\n\nvar GravatarSource = /*#__PURE__*/_createClass(function GravatarSource(_props) {\n  var _this = this;\n\n  _classCallCheck(this, GravatarSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return !!_this.props.email || !!_this.props.md5Email;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    var props = _this.props;\n    var email = props.md5Email || md5(props.email);\n    var size = getImageSize(props.size);\n    var url = \"https://secure.gravatar.com/avatar/\".concat(email, \"?d=404\");\n    if (size) url += \"&s=\".concat(size);\n    setState({\n      sourceName: 'gravatar',\n      src: url\n    });\n  });\n\n  this.props = _props;\n});\n\n_defineProperty(GravatarSource, \"propTypes\", {\n  email: PropTypes.string,\n  md5Email: PropTypes.string\n});\n\nexport { GravatarSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _concatInstanceProperty from \"core-js-pure/stable/instance/concat.js\";\nimport PropTypes from 'prop-types';\nimport { getImageSize } from '../utils';\n\nvar FacebookSource = /*#__PURE__*/_createClass(function FacebookSource(props) {\n  var _this = this;\n\n  _classCallCheck(this, FacebookSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return !!_this.props.facebookId;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    var _context;\n\n    var facebookId = _this.props.facebookId;\n    var size = getImageSize(_this.props.size);\n    var url = \"https://graph.facebook.com/\".concat(facebookId, \"/picture\");\n    if (size) url += _concatInstanceProperty(_context = \"?width=\".concat(size, \"&height=\")).call(_context, size);\n    setState({\n      sourceName: 'facebook',\n      src: url\n    });\n  });\n\n  this.props = props;\n});\n\n_defineProperty(FacebookSource, \"propTypes\", {\n  facebookId: PropTypes.string\n});\n\nexport { FacebookSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport { getImageSize } from '../utils';\n\nvar GithubSource = /*#__PURE__*/_createClass(function GithubSource(props) {\n  var _this = this;\n\n  _classCallCheck(this, GithubSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return !!_this.props.githubHandle;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    var githubHandle = _this.props.githubHandle;\n    var size = getImageSize(_this.props.size);\n    var url = \"https://avatars.githubusercontent.com/\".concat(githubHandle, \"?v=4\");\n    if (size) url += \"&s=\".concat(size);\n    setState({\n      sourceName: 'github',\n      src: url\n    });\n  });\n\n  this.props = props;\n});\n\n_defineProperty(GithubSource, \"propTypes\", {\n  githubHandle: PropTypes.string\n});\n\nexport { GithubSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\n\nvar SkypeSource = /*#__PURE__*/_createClass(function SkypeSource(props) {\n  var _this = this;\n\n  _classCallCheck(this, SkypeSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return !!_this.props.skypeId;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    var skypeId = _this.props.skypeId;\n    var url = \"https://api.skype.com/users/\".concat(skypeId, \"/profile/avatar\");\n    setState({\n      sourceName: 'skype',\n      src: url\n    });\n  });\n\n  this.props = props;\n});\n\n_defineProperty(SkypeSource, \"propTypes\", {\n  skypeId: PropTypes.string\n});\n\nexport { SkypeSource as default };","'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport { getRandomColor, defaultInitials } from '../utils';\n\nvar ValueSource = /*#__PURE__*/function () {\n  function ValueSource(props) {\n    var _this = this;\n\n    _classCallCheck(this, ValueSource);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"isCompatible\", function () {\n      return !!(_this.props.name || _this.props.value || _this.props.email);\n    });\n\n    _defineProperty(this, \"get\", function (setState) {\n      var value = _this.getValue();\n\n      if (!value) return setState(null);\n      setState({\n        sourceName: 'text',\n        value: value,\n        color: _this.getColor()\n      });\n    });\n\n    this.props = props;\n  }\n\n  _createClass(ValueSource, [{\n    key: \"getInitials\",\n    value: function getInitials() {\n      var _this$props = this.props,\n          name = _this$props.name,\n          initials = _this$props.initials;\n      if (typeof initials === 'string') return initials;\n      if (typeof initials === 'function') return initials(name, this.props);\n      return defaultInitials(name, this.props);\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (this.props.name) return this.getInitials();\n      if (this.props.value) return this.props.value;\n      return null;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var _this$props2 = this.props,\n          color = _this$props2.color,\n          colors = _this$props2.colors,\n          name = _this$props2.name,\n          email = _this$props2.email,\n          value = _this$props2.value;\n      var colorValue = name || email || value;\n      return color || getRandomColor(colorValue, colors);\n    }\n  }]);\n\n  return ValueSource;\n}();\n\n_defineProperty(ValueSource, \"propTypes\", {\n  color: PropTypes.string,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  email: PropTypes.string,\n  maxInitials: PropTypes.number,\n  initials: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n});\n\nexport { ValueSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\n\nvar SrcSource = /*#__PURE__*/_createClass(function SrcSource(props) {\n  var _this = this;\n\n  _classCallCheck(this, SrcSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return !!_this.props.src;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    setState({\n      sourceName: 'src',\n      src: _this.props.src\n    });\n  });\n\n  this.props = props;\n});\n\n_defineProperty(SrcSource, \"propTypes\", {\n  src: PropTypes.string\n});\n\nexport { SrcSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport PropTypes from 'prop-types';\nimport { getRandomColor } from '../utils';\n\nvar IconSource = /*#__PURE__*/_createClass(function IconSource(props) {\n  var _this = this;\n\n  _classCallCheck(this, IconSource);\n\n  _defineProperty(this, \"props\", null);\n\n  _defineProperty(this, \"icon\", '✷');\n\n  _defineProperty(this, \"isCompatible\", function () {\n    return true;\n  });\n\n  _defineProperty(this, \"get\", function (setState) {\n    var _this$props = _this.props,\n        color = _this$props.color,\n        colors = _this$props.colors;\n    setState({\n      sourceName: 'icon',\n      value: _this.icon,\n      color: color || getRandomColor(_this.icon, colors)\n    });\n  });\n\n  this.props = props;\n});\n\n_defineProperty(IconSource, \"propTypes\", {\n  color: PropTypes.string\n});\n\nexport { IconSource as default };","'use strict';\n\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _concatInstanceProperty from \"core-js-pure/stable/instance/concat.js\";\nimport PropTypes from 'prop-types';\nimport { getImageSize } from '../utils';\nexport default function createRedirectSource(network, property) {\n  var _class;\n\n  return _class = /*#__PURE__*/_createClass(function AvatarRedirectSource(props) {\n    var _this = this;\n\n    _classCallCheck(this, AvatarRedirectSource);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"isCompatible\", function () {\n      return !!_this.props.avatarRedirectUrl && !!_this.props[property];\n    });\n\n    _defineProperty(this, \"get\", function (setState) {\n      var _context, _context2, _context3;\n\n      var avatarRedirectUrl = _this.props.avatarRedirectUrl;\n      var size = getImageSize(_this.props.size);\n      var baseUrl = avatarRedirectUrl.replace(/\\/*$/, '/');\n      var id = _this.props[property];\n      var query = size ? \"size=\".concat(size) : '';\n\n      var src = _concatInstanceProperty(_context = _concatInstanceProperty(_context2 = _concatInstanceProperty(_context3 = \"\".concat(baseUrl)).call(_context3, network, \"/\")).call(_context2, id, \"?\")).call(_context, query);\n\n      setState({\n        sourceName: network,\n        src: src\n      });\n    });\n\n    this.props = props;\n  }), _defineProperty(_class, \"propTypes\", _defineProperty({}, property, PropTypes.oneOfType([PropTypes.string, PropTypes.number]))), _class;\n}","import redirectSource from './AvatarRedirect';\nexport default redirectSource('twitter', 'twitterHandle');","import redirectSource from './AvatarRedirect';\nexport default redirectSource('vkontakte', 'vkontakteId');","import redirectSource from './AvatarRedirect';\nexport default redirectSource('instagram', 'instagramId');","'use strict';\n\nimport createAvatarComponent from './avatar';\nimport gravatarSource from './sources/Gravatar';\nimport facebookSource from './sources/Facebook';\nimport githubSource from './sources/Github';\nimport skypeSource from './sources/Skype';\nimport valueSource from './sources/Value';\nimport srcSource from './sources/Src';\nimport iconSource from './sources/Icon'; // Avatar Redirect\n\nimport twitterSource from './sources/Twitter';\nimport vkontakteSource from './sources/VKontakte';\nimport instagramSource from './sources/Instagram';\nimport googleSource from './sources/Google';\nvar SOURCES = [facebookSource, googleSource, githubSource, twitterSource, instagramSource, vkontakteSource, skypeSource, gravatarSource, srcSource, valueSource, iconSource];\nexport * from './avatar';\nexport { default as createAvatarComponent } from './avatar';\nexport { default as createAvatarDataProvider } from './data-provider';\nexport default createAvatarComponent({\n  sources: SOURCES\n});\nexport { default as GravatarSource } from './sources/Gravatar';\nexport { default as FacebookSource } from './sources/Facebook';\nexport { default as GithubSource } from './sources/Github';\nexport { default as SkypeSource } from './sources/Skype';\nexport { default as ValueSource } from './sources/Value';\nexport { default as SrcSource } from './sources/Src';\nexport { default as IconSource } from './sources/Icon'; // Avatar Redirect\n\nexport { default as VKontakteSource } from './sources/VKontakte';\nexport { default as InstagramSource } from './sources/Instagram';\nexport { default as TwitterSource } from './sources/Twitter';\nexport { default as GoogleSource } from './sources/Google';\nexport { default as RedirectSource } from './sources/AvatarRedirect';","'use strict';\n\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Object$assign from \"core-js-pure/stable/object/assign.js\";\nimport React from 'react';\nimport { Cache } from './cache';\nimport { withConfig, ConfigProvider } from './context';\nimport createAvatarDataProvider from './data-provider';\nimport { getRandomColor } from './utils';\nimport Image from './components/image';\nimport Text from './components/text';\nexport { getRandomColor } from './utils';\nexport { ConfigProvider } from './context';\nexport { Cache } from './cache';\nexport default function createAvatarComponent(options) {\n  var DataProvider = createAvatarDataProvider(options);\n  var Component = withConfig(\n  /*#__PURE__*/\n  // eslint-disable-next-line react/display-name\n  React.forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(DataProvider, _extends({}, props, {\n      propertyName: \"avatar\"\n    }), function (avatar) {\n      var Avatar = avatar.src ? Image : Text;\n      return /*#__PURE__*/React.createElement(Avatar, _extends({}, props, {\n        avatar: avatar,\n        ref: ref\n      }));\n    });\n  }));\n  return _Object$assign(Component, {\n    getRandomColor: getRandomColor,\n    ConfigProvider: ConfigProvider,\n    Cache: Cache\n  });\n}","import redirectSource from './AvatarRedirect';\nexport default redirectSource('google', 'googleId');","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data\n            .arrayBuffer()\n            .then(toArray)\n            .then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, encoded => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, encodedPacket => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        }\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        }\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\nexport function createCookieJar() { }\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { createCookieJar, XHR as XMLHttpRequest, } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = createCookieJar();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"./websocket-constructor.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { defaultBinaryType } from \"./transports/websocket-constructor.js\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n"],"names":["charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","module","exports","CodeMirror","defaults","pairs","closeBefore","triples","explode","Pos","getOption","conf","name","defineOption","cm","val","old","Init","removeKeyMap","keyMap","state","closeBrackets","ensureBound","addKeyMap","Backspace","handleBackspace","Enter","handleEnter","chars","ch","charAt","key","handler","handleChar","getConfig","deflt","override","getModeAt","getCursor","Pass","ranges","listSelections","empty","around","charsAround","head","indexOf","cur","replaceRange","line","operation","linesep","lineSeparator","replaceSelection","moveSel","indentLine","dir","newRanges","primary","range","pos","anchor","setSelections","contractSelection","sel","inverted","cmpPos","type","identical","opening","curType","next","getRange","test","getTokenTypeAt","prev","isWordChar","stringStartsAfter","left","right","sels","getSelections","replaceSelections","slice","triggerElectric","token","getTokenAt","start","mod","require","map","whenClosing","autoCloseSlash","whenOpening","autoCloseGT","htmlDontClose","htmlIndent","replacements","opt","tok","inner","innerMode","getMode","tagInfo","mode","xmlCurrentTag","tagName","html","configuration","dontCloseTags","indentTags","end","lowerTagName","toLowerCase","string","close","closingTagExists","xmlCurrentContext","emptyTags","text","newPos","indent","dontIndentOnAutoClose","info","autoCloseCurrent","typingSlash","dontIndentOnSlash","replacement","mixed","context","top","getLine","collection","elt","e","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","onCx","to","commands","closeTag","cmp","a","b","nameStartChar","xmlTagStart","RegExp","Iter","this","max","from","firstLine","tagAt","iter","nextLine","prevLine","toTagEnd","gt","lastSlash","lastIndexOf","selfClose","toTagStart","lt","lastIndex","match","exec","index","toNextTag","found","toPrevTag","findMatchingClose","stack","startLine","startCh","findMatchingOpen","endLine","endCh","registerHelper","openTag","startPos","endPos","findMatchingTag","here","open","at","findEnclosingTag","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","classTest","cls","rmClass","node","current","className","after","removeChildren","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","content","style","createElement","cssText","createTextNode","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","activeElement","body","shadowRoot","addClass","joinClasses","as","split","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","tabSize","startIndex","startValue","search","n","nextTab","selectionStart","selectionEnd","value","_e","Delayed","id","time","onTimeout","array","self","Date","setTimeout","set","ms","clearTimeout","scrollerGap","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","arr","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","helper","source","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","findFirst","pred","midF","mid","ceil","floor","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","sticky","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","undefined","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","curFragment","cursors","selFragment","customCursor","$customCursor","primIndex","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursor","cursorHeight","getWrapperElement","charPos","defaultCharWidth","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","extendSelectionsBy","addSelection","dup","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","normalizeKeyName","alt","ctrl","cmd","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","now","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","optionHandlers","defineOptions","notOnInit","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addOverlay","modeSpec","removeOverlay","getLineTokens","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","defineExtension","func","defineDocExtension","version","factory","keySet","config","parserConfig","inline","propertyKeywords","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","lineComment","supportsAtComponent","highlightNonStandardPropertyKeywords","ret","tp","tokenBase","tokenize","tokenString","tokenParenthesized","quote","escaped","pushContext","popContext","pass","states","popAndPass","wordAsValue","stateArg","_stream","atBlock","textAfter","cx","blockCommentStart","blockCommentEnd","blockCommentContinue","fold","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","tokenCComment","maybeEnd","statementIndent","jsonldMode","jsonld","jsonMode","json","trackScope","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","operator","atom","isOperatorChar","isJsonldKeyword","readRegexp","inSet","cont","tokenComment","expressionAllowed","tokenQuasi","lexical","lastType","propertyIsEnumerable","brackets","findFatArrow","fatArrowAt","arrow","depth","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","vars","parseJS","cc","marked","expression","statement","lex","inList","register","block","newContext","registerVarScoped","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","basecolumn","firstChar","c","doubleIndentSwitch","skipExpression","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","htmlMode","inText","chain","parser","inBlock","doctype","inTag","baseState","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","lower","startOfLine","noIndent","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","attrEqState","attrValueState","attrContinuedState","isInText","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","skipAttribute","entryVirtual","reduce","isPrototypeOf","ArrayPrototype","it","own","path","JSON","stringify","replacer","defineProperties","T","sham","defineProperty","desc","getOwnPropertyDescriptor","getOwnPropertyDescriptors","getOwnPropertySymbols","parseFloat","Reflect","construct","isCallable","tryToString","$TypeError","TypeError","argument","isConstructor","isObject","$String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","O","includes","uncurryThis","IndexedObject","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","callbackfn","that","specificCreate","boundFunction","forEach","some","every","findIndex","filterReject","fails","wellKnownSymbol","V8_VERSION","SPECIES","METHOD_NAME","foo","Boolean","aCallable","IS_RIGHT","argumentsLength","memo","createProperty","$Array","fin","isArray","originalArray","arraySpeciesConstructor","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","error","tryGet","callee","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","object","bitmap","enumerable","configurable","writable","toPropertyKey","propertyKey","descriptor","createNonEnumerableProperty","global","documentAll","all","IS_HTMLDDA","EXISTS","classof","process","Deno","versions","v8","CONSTRUCTOR","isForced","hasOwn","wrapConstructor","NativeConstructor","Wrapper","FORCED","USE_NATIVE","VIRTUAL_PROTOTYPE","sourceProperty","targetProperty","nativeProperty","resultProperty","TARGET","GLOBAL","STATIC","stat","PROTO","proto","nativeSource","targetPrototype","forced","dontCallGetSet","real","NATIVE_BIND","FunctionPrototype","Function","fn","arraySlice","$Function","factories","F","Prototype","partArgs","argsLength","uncurryThisWithBind","aFunction","variable","namespace","rawLength","element","keysLength","root","isNullOrUndefined","V","P","globalThis","getBuiltIn","store","functionToString","inspectSource","NATIVE_WEAK_MAP","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","metadata","facade","STATE","enforce","getterFor","$documentAll","noop","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","called","feature","detection","normalize","POLYFILL","NATIVE","USE_SYMBOL_AS_UID","$Symbol","toLength","trunc","trim","whitespaces","$parseFloat","Symbol","ITERATOR","iterator","trimmedString","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","$assign","symbol","alphabet","chr","S","activeXDocument","anObject","definePropertiesModule","enumBugKeys","documentCreateElement","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObjectViaActiveX","write","temp","parentWindow","NullProtoObject","ActiveXObject","domain","iframeDocument","iframe","JS","contentWindow","NullProtoObjectViaIFrame","Properties","V8_PROTOTYPE_DEFINE_BUG","IE8_DOM_DEFINE","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","CONFIGURABLE","WRITABLE","Attributes","$getOwnPropertyNames","windowNames","getOwnPropertyNames","getWindowNames","internalObjectKeys","names","$propertyIsEnumerable","NASHORN_BUG","pref","valueOf","getOwnPropertyNamesModule","TAG","SET_METHOD","uid","defineGlobalProperty","SHARED","IS_PURE","copyright","license","requireObjectCoercible","ltrim","rtrim","defineBuiltIn","SymbolPrototype","TO_PRIMITIVE","arity","NATIVE_SYMBOL","keyFor","toIntegerOrInfinity","number","isSymbol","getMethod","ordinaryToPrimitive","exoticToPrim","toPrimitive","postfix","random","wrappedWellKnownSymbolModule","NAME","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","doesNotExceedSafeInteger","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","IS_CONCAT_SPREADABLE_SUPPORT","isConcatSpreadable","spreadable","arg","E","$filter","$map","$reduce","arrayMethodIsStrict","CHROME_VERSION","nativeSlice","HAS_SPECIES_SUPPORT","Constructor","getReplacerFunction","$stringify","numberToString","tester","low","hi","WRONG_SYMBOLS_CONVERSION","ILL_FORMED_UNICODE","stringifyWithSymbolsFix","$replacer","fixIllFormed","nativeGetOwnPropertyDescriptor","ownKeys","getOwnPropertyDescriptorModule","$getOwnPropertySymbols","nativeKeys","aConstructor","nativeConstruct","ObjectPrototype","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","instance","$toString","nativeObjectCreate","getOwnPropertyNamesExternal","defineBuiltInAccessor","defineWellKnownSymbol","defineSymbolToPrimitive","setToStringTag","InternalStateModule","$forEach","HIDDEN","SYMBOL","setInternalState","getInternalState","QObject","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","$defineProperties","IS_OBJECT_PROTOTYPE","setter","unsafe","useSetter","useSimple","NATIVE_SYMBOL_REGISTRY","StringToSymbolRegistry","SymbolToStringRegistry","sym","base64map","crypt","rotl","rotr","endian","randomBytes","bytesToWords","words","wordsToBytes","bytesToHex","hex","hexToBytes","bytesToBase64","base64","triplet","base64ToBytes","imod4","pow","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","devicePixelRatio","matchMedia","matches","md5","message","encoding","Uint8Array","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","dd","s","_blocksize","_digestsize","digestbytes","asBytes","asString","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","bigint","bool","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_extends","CACHE_KEY_FAILING","_hasLocalStorage","Cache","_classCallCheck","_options$cachePrefix","cachePrefix","_options$sourceTTL","sourceTTL","_options$sourceSize","sourceSize","_createClass","_JSON$stringify","localStorage","setItem","console","getItem","parse","cacheList","_filterInstanceProperty","entry","hasExpired","expires","isMatch","url","_sliceInstanceProperty","IS_RETINA","retina","defaultColors","reSize","getRandomColor","colors","colorIndex","_context","charCodes","_mapInstanceProperty","_toConsumableArray","letter","_reduceInstanceProperty","_stringAsciiPRNG","parseSize","_ref","_ref2","_slicedToArray","_ref2$","_ref2$2","_parseFloat","getImageSize","defaultInitials","_ref3","_context2","_context3","_context4","maxInitials","substring","timeoutGroups","getNullableText","_len","_key","_i","_args","calculateBorderRadius","_createSuper","Derived","hasNativeReflectConstruct","_Reflect$construct","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","defaultCache","initials","avatarRedirectUrl","contextKeys","_Object$keys","ConfigContext","React","isLegacyContext","ConfigConsumer","Consumer","forwardRef","ConfigProvider","_React$Component","_inherits","_super","_this","only","Provider","_getContext","_defineProperty","withConfig","Component","withAvatarConfig","refOrContext","ctx","reactAvatar","contextTypes","childContextTypes","getChildContext","InternalState","sourcePointer","fetch","internal","enumerableOnly","_Object$getOwnPropertySymbols","symbols","_Object$getOwnPropertyDescriptor","_objectSpread","_Object$getOwnPropertyDescriptors","_Object$defineProperties","_Object$defineProperty","AvatarWrapper","_React$PureComponent","_this$props","unstyled","avatar","onClick","sourceName","hostStyle","verticalAlign","borderRadius","fontFamily","classNames","AvatarImage","imageStyle","maxWidth","onError","onRenderFailed","AvatarText","_concatInstanceProperty","_assertThisInitialized","retryTTL","textSizeRatio","textMarginRatio","_node","_mounted","spanNode","tableNode","_spanNode$getBounding","containerWidth","containerHeight","fontSize","baseFontSize","textWidth","maxTextWidth","ttl","cb","setGroupedTimeout","_scaleTextNode","_this$props2","initialsStyle","lineHeight","textAlign","color","fgColor","tableStyle","tableLayout","whiteSpace","GravatarSource","_props","email","md5Email","setState","FacebookSource","facebookId","GithubSource","githubHandle","SkypeSource","skypeId","ValueSource","getColor","getInitials","SrcSource","IconSource","icon","createRedirectSource","network","_class","AvatarRedirectSource","baseUrl","query","redirectSource","DataProvider","_ref$sources","sources","sourcePropTypes","_Object$assign","propTypes","AvatarDataProvider","_PureComponent","errEvent","isActive","sourceFailed","pointer","Source","isCompatible","hasSourceFailedBefore","matchSource","nextState","_createFetcher","prevProps","needsUpdate","propertyName","_this$state","avatarData","PureComponent","createAvatarDataProvider","Avatar","Image","Text","facebookSource","githubSource","twitterSource","instagramSource","vkontakteSource","skypeSource","gravatarSource","srcSource","valueSource","iconSource","asyncGeneratorStep","resolve","reject","_next","_throw","Promise","then","_asyncToGenerator","_regeneratorRuntime","asyncIterator","u","toStringTag","define","Generator","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","setPrototypeOf","__proto__","awrap","async","stop","rval","complete","delegateYield","_get","receiver","PACKET_TYPES","PACKET_TYPES_REVERSE","TEXT_ENCODER","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","buffer","encodePacket","supportsBinary","callback","encodeBlobAsBase64","fileReader","readAsDataURL","toArray","byteOffset","byteLength","lookup","TEXT_DECODER","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","decode","SEPARATOR","createPacketEncoderStream","TransformStream","transform","packet","controller","arrayBuffer","encoded","TextEncoder","encode","encodePacketToBinary","header","payloadLength","DataView","setUint8","setUint16","setBigUint64","BigInt","enqueue","totalLength","chunks","acc","concatChunks","Emitter","mixin","_callbacks","once","removeListener","removeAllListeners","emit","emitReserved","listeners","hasListeners","globalThisShim","pick","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","setTimeoutFn","clearTimeoutFn","TransportError","_Error","reason","_wrapNativeSuper","Transport","_Emitter","_super2","_this2","socket","readyState","doOpen","doClose","onClose","packets","onPacket","details","onPause","schema","_hostname","_port","_query","hostname","port","secure","encodedQuery","seed","num","yeast","XMLHttpRequest","hasCORS","XHR","xdomain","hasXHR2","responseType","Polling","_Transport","isSSL","protocol","xd","forceBase64","withCredentials","cookieJar","createCookieJar","pause","total","doPoll","_this3","encodedPayload","encodedPackets","decodedPacket","decodePayload","onOpen","_this4","_this5","encodePayload","doWrite","timestampRequests","timestampParam","sid","b64","createUri","Request","uri","_this6","req","request","xhrStatus","_this7","onData","pollXhr","_this8","_a","_this9","xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","addCookies","requestTimeout","timeout","onreadystatechange","parseCookies","status","onLoad","send","requestsCount","requests","cleanup","fromError","abort","responseText","unloadHandler","nextTick","WebSocket","MozWebSocket","isReactNative","product","WS","protocols","headers","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","ev","_loop","lastPacket","WT","WebTransport","transport","transportOptions","closed","catch","ready","createBidirectionalStream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","createPacketDecoderStream","MAX_SAFE_INTEGER","readable","pipeThrough","getReader","encoderStream","pipeTo","writer","getWriter","transports","websocket","webtransport","re","authority","ipv6uri","pathNames","regx","queryKey","$0","$1","$2","Socket","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","threshold","closeOnBeforeunload","qs","qry","pair","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","offlineEventListener","EIO","priorWebsocketSuccess","createTransport","setTransport","onDrain","failed","onTransportOpen","msg","upgrading","flush","freezeTransport","onTransportClose","onupgrade","probe","resetPingTimeout","onHandshake","sendPacket","filterUpgrades","getWritablePackets","payloadSize","utf8Length","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","newData","reconstructPacket","_reconstructPacket","PacketType","RESERVED_EVENTS","Encoder","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","Decoder","reviver","reconstructor","isBinaryEvent","decodeString","BinaryReconstructor","takeBinaryData","buf","payload","tryParse","isPayloadValid","finishedReconstruction","CONNECT","DISCONNECT","CONNECT_ERROR","reconPack","binData","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","flags","auth","_opts","_autoConnect","subs","onpacket","subEvents","_readyState","_len2","_key2","retries","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","notifyOutgoingListeners","ackTimeout","timer","_len3","_key3","_len4","_key4","withErr","arg1","arg2","tryCount","pending","_len5","responseArgs","_key5","_drainQueue","_packet","_sendConnectPacket","_pid","pid","_lastOffset","onconnect","onevent","onack","ondisconnect","destroy","emitEvent","_anyListeners","_step","_iterator","_createForOfIteratorHelper","_len6","_key6","emitBuffered","subDestroy","listener","_anyOutgoingListeners","_step2","_iterator2","Backoff","factor","jitter","attempts","duration","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","encoder","decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","maybeReconnectOnOpen","errorSub","onping","ondata","ondecoded","_nsps","_close","onreconnect","attempt","parsed","loc","href","sameNamespace","forceNew","multiplex"],"sourceRoot":""}