{"version":3,"file":"static/js/858.e2413c28.chunk.js","mappings":"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","sources":["Actions.js","componets/Client.js","componets/Html.js","componets/Javascript.js","componets/Css.js","socket.js","pages/Editor.js"],"sourcesContent":["const ACTIONs = {\r\n    JOIN: 'join',\r\n    JOINED: 'joined',\r\n    DISCONNECTED: 'disconnected',\r\n    HTML_CHANGE: 'html-change',\r\n    CSS_CHANGE: 'css-change',\r\n    JAVASCRIPT_CHANHE: 'javascript-change',\r\n    HTML_SYNC: 'html-sync',\r\n    CSS_SYNC: 'css-sync',\r\n    JAVASCRIPT_SYNC: 'javascript-sync',\r\n    LEAVE: 'leave'\r\n}\r\nmodule.exports = ACTIONs;","import Avatar from \"react-avatar\";\r\nconst Client = ({username}) => {\r\n    return(\r\n        <div className=\"client\">\r\n            <Avatar name={username} size={50} round=\"14px\"/>\r\n            <span className=\"userName\">{username}</span>\r\n        </div>\r\n    )\r\n}\r\nexport default Client;","import {useEffect, useState} from \"react\";\r\nimport Codemirror from 'codemirror';\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/theme/dracula.css';\r\nimport 'codemirror/mode/xml/xml.js';\r\nimport 'codemirror/addon/edit/closetag.js';\r\nimport 'codemirror/addon/edit/closebrackets.js';\r\nimport { useAppContext } from \"./Allcode.js\";\r\nimport ACTIONs from \"../Actions.js\";\r\nconst HtmlEditor = ({socketRef,roomId,onCodeChange}) => {\r\n    const [open,setOpen] = useState(true);\r\n    const {htmlRef} = useAppContext();\r\n    useEffect(()=>{\r\n        async function init(){\r\n            htmlRef.current = Codemirror.fromTextArea(\r\n                document.getElementById('html'),\r\n                {\r\n                    mode: { name: 'xml', json: true },\r\n                    theme: 'dracula',\r\n                    autoCloseTags: true,\r\n                    autoCloseBrackets: true,\r\n                    lineNumbers: true,\r\n                }\r\n            );\r\n            htmlRef.current.on('change', (instance, changes) => {\r\n                const { origin } = changes;\r\n                const code = instance.getValue();\r\n                onCodeChange(code);\r\n                if (origin !== 'setValue') {\r\n                    socketRef.current.emit(ACTIONs.HTML_CHANGE, {\r\n                        roomId,\r\n                        code,\r\n                    });\r\n                }\r\n            });\r\n        }init();\r\n    },[]);\r\n    useEffect(()=>{\r\n        if (socketRef.current) {\r\n            socketRef.current.on(ACTIONs.HTML_CHANGE, ({ code }) => {\r\n                if (code !== null) {\r\n                    htmlRef.current.setValue(code);\r\n                }\r\n            });\r\n        }\r\n        return () => {\r\n            socketRef.current.off(ACTIONs.HTML_CHANGE);\r\n        };\r\n    },[socketRef.current])\r\n    return(\r\n        <div className={`editor-container ${open ? '' : 'collapsed'}`}>\r\n            <div className='editor-title'>\r\n                HTML\r\n                <button className=\"edibtn\" onClick={()=>setOpen(!open)}>{open ? 'Hide' : 'Show'}</button>\r\n            </div>\r\n            <textarea id=\"html\" className=\"code-mirror-wrapper\"/>\r\n        </div>\r\n    )\r\n}\r\nexport default HtmlEditor;","import {useEffect, useState} from \"react\";\r\nimport Codemirror from 'codemirror';\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/theme/dracula.css';\r\nimport 'codemirror/mode/javascript/javascript.js';\r\nimport 'codemirror/addon/edit/closetag.js';\r\nimport 'codemirror/addon/edit/closebrackets.js';\r\nimport { useAppContext } from \"./Allcode.js\";\r\nimport ACTIONs from \"../Actions.js\";\r\nexport default function Javascript({socketRef,roomId,onCodeChange}){\r\n    const {javascriptRef} = useAppContext();\r\n    const [open,setOpen] = useState(false);\r\n    useEffect(()=>{\r\n        async function init(){\r\n            javascriptRef.current = Codemirror.fromTextArea(\r\n                document.getElementById('javascript'),\r\n                {\r\n                    mode: { name: 'javascript', json: true },\r\n                    theme: 'dracula',\r\n                    autoCloseTags: true,\r\n                    autoCloseBrackets: true,\r\n                    lineNumbers: true,\r\n                }\r\n            );\r\n            javascriptRef.current.on('change', (instance, changes) => {\r\n                const { origin } = changes;\r\n                const code = instance.getValue();\r\n                onCodeChange(code);\r\n                if (origin !== 'setValue') {\r\n                    socketRef.current.emit(ACTIONs.JAVASCRIPT_CHANHE, {\r\n                        roomId,\r\n                        code,\r\n                    });\r\n                }\r\n            });\r\n        }init();\r\n    },[]);\r\n    useEffect(()=>{\r\n        if (socketRef.current) {\r\n            socketRef.current.on(ACTIONs.JAVASCRIPT_CHANHE, ({ code }) => {\r\n                if (code !== null) {\r\n                    console.log(code);\r\n                    javascriptRef.current.setValue(code);\r\n                }\r\n            });\r\n        }\r\n        return () => {\r\n            socketRef.current.off(ACTIONs.JAVASCRIPT_CHANHE);\r\n        };\r\n    },[socketRef.current])\r\n    return(\r\n        <div className={`editor-container ${open ? '' : 'collapsed'}`}>\r\n        <div className='editor-title'>\r\n            Java-Script\r\n            <button className=\"edibtn\" onClick={()=>setOpen(!open)}>{open ? 'Hide' : 'Show'}</button>\r\n        </div>\r\n        <textarea id=\"javascript\" className=\"code-mirror-wrapper\"/>\r\n    </div>\r\n    )\r\n}","import {useEffect, useState} from \"react\";\r\nimport Codemirror from 'codemirror';\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/theme/dracula.css';\r\nimport 'codemirror/mode/css/css.js';\r\nimport 'codemirror/addon/edit/closetag.js';\r\nimport 'codemirror/addon/edit/closebrackets.js';\r\nimport { useAppContext } from \"./Allcode.js\";\r\nimport ACTIONs from \"../Actions.js\";\r\nexport default function CSS({socketRef,roomId,onCodeChange}){\r\n    const {cssRef} = useAppContext();\r\n    const [open,setOpen] = useState(false);\r\n    useEffect(()=>{\r\n        async function init(){\r\n            cssRef.current = Codemirror.fromTextArea(\r\n                document.getElementById('css'),\r\n                {\r\n                    mode: { name: 'css', json: true },\r\n                    theme: 'dracula',\r\n                    autoCloseTags: true,\r\n                    autoCloseBrackets: true,\r\n                    lineNumbers: true,\r\n                }\r\n            );\r\n            cssRef.current.on('change', (instance, changes) => {\r\n                const { origin } = changes;\r\n                const code = instance.getValue();\r\n                onCodeChange(code);\r\n                if (origin !== 'setValue') {\r\n                    socketRef.current.emit(ACTIONs.CSS_CHANGE, {\r\n                        roomId,\r\n                        code,\r\n                    });\r\n                }\r\n            });\r\n        }init();\r\n    },[]);\r\n    useEffect(()=>{\r\n        if (socketRef.current) {\r\n            socketRef.current.on(ACTIONs.CSS_CHANGE, ({ code }) => {\r\n                if (code !== null) {\r\n                    console.log(code);\r\n                    cssRef.current.setValue(code);\r\n                }\r\n            });\r\n        }\r\n        return () => {\r\n            socketRef.current.off(ACTIONs.CSS_CHANGE);\r\n        };\r\n    },[socketRef.current])\r\n    return(\r\n        <div className={`editor-container ${open ? '' : 'collapsed'}`}>\r\n        <div className='editor-title'>\r\n            CSS\r\n            <button className=\"edibtn\" onClick={()=>setOpen(!open)}>{open ? 'Hide' : 'Show'}</button>\r\n        </div> \r\n        <textarea id=\"css\" className=\"code-mirror-wrapper\"/>\r\n    </div>\r\n    )\r\n}","import { io } from \"socket.io-client\";\r\nexport const initSocket = async() => {\r\n    const options = {\r\n        'force new connection': true,\r\n         reconnectionAttempt: 'Infinity',\r\n         timeout: 10000,\r\n         transports:['websocket'],\r\n    };\r\n    return io(process.env.REACT_APP_BACKEND_URL,options)\r\n}\r\n","import { useEffect, useState, useRef} from \"react\";\r\nimport Client from \"../componets/Client.js\";\r\nimport HtmlEditor from \"../componets/Html.js\";\r\nimport Javascript from '../componets/Javascript.js';\r\nimport CSS from \"../componets/Css.js\";\r\nimport { useAppContext } from \"../componets/Allcode.js\";\r\nimport { initSocket } from \"../socket.js\";\r\nimport ACTIONs from \"../Actions.js\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nconst Editor = () => {\r\n    const location = useLocation();\r\n    const [newHtml,setNewHtml] = useState('');\r\n    const [newCss,setNewCss] = useState('');\r\n    const [newJavascript,setNewJavascript] = useState('');\r\n    const [sourceDoc,setSourceDoc] = useState('');\r\n    const html = useRef(null);\r\n    const css = useRef(null);\r\n    const javascript = useRef(null);\r\n    const socketRef = useRef(null);\r\n    const navigate = useNavigate();\r\n    const {htmlRef,cssRef,javascriptRef} = useAppContext();\r\n    const [clients,SetClients] = useState([]);\r\n    const {roomId} = useParams();\r\n    useEffect(()=>{\r\n        const init = async() => {\r\n            socketRef.current = await initSocket();\r\n            socketRef.current.on('connect_error',(err)=>{toast.error(\"Server Not Connected\");console.log(err);navigate('/');});\r\n            socketRef.current.on('connect_failed',(err)=>{toast.error(\"Server Not Connected\");console.log(err);navigate('/');});\r\n            socketRef.current.emit(ACTIONs.JOIN,{\r\n                roomId,\r\n                userName: location.state?.userName\r\n            });\r\n            socketRef.current.on(ACTIONs.JOINED,({clients, userName, socketId})=>{\r\n                if(userName !== location.state?.userName){\r\n                    toast.success(`${userName}, Just Get in the Room`)\r\n                }\r\n                SetClients(clients);\r\n                socketRef.current.emit(ACTIONs.HTML_SYNC,{\r\n                    code: html.current,\r\n                    roomId,\r\n                })\r\n                socketRef.current.emit(ACTIONs.CSS_SYNC,{\r\n                    code: css.current,\r\n                    roomId\r\n                })\r\n                socketRef.current.emit(ACTIONs.JAVASCRIPT_SYNC,{\r\n                    code: javascript.current,\r\n                    roomId\r\n                })\r\n            });\r\n            socketRef.current.on(ACTIONs.DISCONNECTED,({socketId, userName})=>{\r\n                toast.error(`${userName}, Just Got Out from the Room`);\r\n                SetClients((prev)=>{\r\n                    return prev.filter(client => client.socketId !== socketId)\r\n                })\r\n            })\r\n        }\r\n        init();\r\n        return () => {\r\n            socketRef.current.disconnect();\r\n            socketRef.current.off(ACTIONs.JOINED);\r\n            socketRef.current.off(ACTIONs.DISCONNECTED);\r\n        }\r\n    },[])\r\n    useEffect(()=>{\r\n        const handlehtml = (instance,changes) => {\r\n            setNewHtml(instance.getValue());\r\n        }\r\n        const handlecss = (instance,changes) => {\r\n            setNewCss(instance.getValue());\r\n        }\r\n        const handeljavascript = (instance,changes) => {\r\n            setNewJavascript(instance.getValue());\r\n        }\r\n        if(htmlRef.current || cssRef.current || javascriptRef.current){\r\n            htmlRef.current.on('change',handlehtml)\r\n            cssRef.current.on('change',handlecss)\r\n            javascriptRef.current.on('change',handeljavascript)\r\n            setSourceDoc(`\r\n            <html>\r\n            <style>\r\n            body{\r\n                background-color:white;\r\n            }\r\n            ${newCss}\r\n            </style>\r\n            <body>\r\n            ${newHtml}\r\n            </body>\r\n            <script>\r\n            ${newJavascript}\r\n            </script>\r\n            </html>`);\r\n        }\r\n    },[htmlRef.current,cssRef.current,javascriptRef.current,newHtml,newCss,newJavascript])\r\n    if(!location.state){\r\n        navigate('/');\r\n    }\r\n    return(\r\n        <div className=\"mainWrap\">\r\n            <div className=\"aside\">\r\n                <div className=\"asideInner\">\r\n                    <div className=\"logo\">\r\n                        <img className=\"logoImage\" src=\"/logo.png\"/>\r\n                    </div>\r\n                    <h3>Connected</h3>\r\n                    <div className=\"clientList\">\r\n                        {\r\n                            clients.map((client)=>(<Client key={client.socketId} username={client.userName}/>))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn copyBtn\" onClick={async()=>{\r\n                    try{\r\n                       await navigator.clipboard.writeText(roomId);\r\n                       toast.success('Room-ID: copied')\r\n                    }catch{\r\n                        toast.error('Error Ocured')\r\n                    }\r\n                }}>Copy Room-ID:</button>\r\n                <button className=\"btn leaveBtn\" onClick={()=>{\r\n                    navigate('/');\r\n                }}>Leave Room</button>\r\n            </div>\r\n            <div className=\"editorWrap\">\r\n                <div className=\"pane top-pane\">\r\n                <HtmlEditor \r\n                socketRef = {socketRef}\r\n                roomId={roomId}\r\n                onCodeChange={(code)=>{\r\n                    html.current = code;\r\n                }}/>\r\n                <CSS \r\n                socketRef = {socketRef}\r\n                roomId = {roomId}\r\n                onCodeChange={(code)=>{\r\n                    css.current = code;\r\n                }}\r\n                />\r\n                <Javascript\r\n                socketRef = {socketRef}\r\n                roomId = {roomId}\r\n                onCodeChange={(code)=>{\r\n                    javascript.current = code;\r\n                }} \r\n                />\r\n                </div>\r\n                <div className=\"pane\">\r\n                    <iframe srcDoc={sourceDoc} title=\"output\" sandbox=\"allow-scripts\" frameBorder=\"0\" width=\"100%\" height=\"100%\"></iframe>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Editor;"],"names":["module","exports","JOIN","JOINED","DISCONNECTED","HTML_CHANGE","CSS_CHANGE","JAVASCRIPT_CHANHE","HTML_SYNC","CSS_SYNC","JAVASCRIPT_SYNC","LEAVE","_ref","username","_jsxs","className","children","_jsx","Avatar","name","size","round","socketRef","roomId","onCodeChange","_useState","useState","_useState2","_slicedToArray","open","setOpen","htmlRef","useAppContext","useEffect","_init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","current","Codemirror","document","getElementById","mode","json","theme","autoCloseTags","autoCloseBrackets","lineNumbers","on","instance","changes","origin","code","getValue","emit","ACTIONs","stop","apply","arguments","init","_ref2","setValue","off","concat","onClick","id","Javascript","javascriptRef","console","log","CSS","cssRef","initSocket","options","reconnectionAttempt","timeout","transports","abrupt","io","process","location","useLocation","newHtml","setNewHtml","_useState3","_useState4","newCss","setNewCss","_useState5","_useState6","newJavascript","setNewJavascript","_useState7","_useState8","sourceDoc","setSourceDoc","html","useRef","css","javascript","navigate","useNavigate","_useAppContext","_useState9","_useState10","clients","SetClients","useParams","_location$state","sent","err","toast","error","userName","state","_location$state2","socketId","success","_ref3","filter","client","disconnect","src","map","Client","_callee2","_context2","navigator","clipboard","writeText","t0","HtmlEditor","srcDoc","title","sandbox","frameBorder","width","height"],"sourceRoot":""}